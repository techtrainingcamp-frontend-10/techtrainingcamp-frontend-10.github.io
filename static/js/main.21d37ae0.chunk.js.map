{"version":3,"sources":["components/LivePlayer/index.module.scss","views/Live/Top/index.module.scss","components/Like/index.module.scss","utils/auth/index.ts","utils/router/authRoute.tsx","utils/request/index.ts","api/video.ts","components/Player/index.tsx","api/comment.ts","components/Vlivecomment/index.tsx","components/Vcomment/index.tsx","components/Like/index.tsx","components/VideoPlayer/index.tsx","api/danmuku.ts","views/Home/Top/index.tsx","views/Home/index.tsx","components/LivePlayer/index.tsx","views/Live/Top/index.tsx","views/Live/index.tsx","api/live.ts","views/Ucenter/Ucenter.js","views/Mypage/Mypage.js","App.tsx","reportWebVitals.ts","index.tsx","components/VideoPlayer/index.module.scss","views/Home/Top/index.module.scss"],"names":["module","exports","getToken","localStorage","getItem","setToken","token","setItem","getUserId","setUserId","userId","authRoute","props","exact","path","component","to","http","defaults","baseURL","process","interceptors","request","use","config","data","parseInt","error","Promise","reject","response","likeVideo","post","Player","player","state","dmkList","onRef","this","type","id","_id","url","console","log","XGPlayer","width","window","innerWidth","height","innerHeight","autoplay","videoInit","playsinline","loop","closeVideoStopPropagation","closePlayVideoFocus","ignores","danmu","comments","area","start","end","initDmk","on","e","onTimeChange","Math","round","parseFloat","maxPlayedTime","HlsPlayer","controls","axios","vedioId","then","setState","forEach","dmk","sendComment","catch","err","newDmk","active","initPlayer","destroy","className","classNames","React","Component","getComment","likeComment","getCommentLive","VliveComment","pname","content","VliveCommentWrapper","demoo","ptime","like","avatar","likeCount","demomo","wrapper","interval","scrollToBottom","messagesEndRef","document","getElementById","scrollIntoView","behavior","handleTap","clientHeight","scrollHeight","scrollTop","isBottom","isPause","displayIndex","bufferSize","displayComents","allComments","fetchComments","videoId","setInterval","nextCmt","length","concat","fetchCommentsLive","clearInterval","videoInfo","success","map","comment","userItem","userName","createdAt","toString","liked","slice","newCommentIndex","findIndex","item","i","onTouchEnd","ref","c","transitionName","transitionEnterTimeout","transitionLeaveTimeout","index","key","TextArea","Input","Link","Typography","dayjs","extend","relativeTime","locale","dayjszhcn","Comment","handleLike","isLiked","commentId","icon","UserOutlined","onClick","HeartFilled","VcommentAppeal","SmileOutlined","VcommentEditor","Item","rows","onChange","value","htmlType","loading","submitting","onSubmit","onOpenEmoji","VcommentDrawer","handleClose","onCmtClose","handleSubmit","newComment","isSubmitting","setTimeout","Date","fromNow","handleChange","target","drawerChange","visible","addEmoji","emoji","event","native","showEmojiModal","handleOpenEmojiModel","mock","vid","placement","count","isTypeing","isEmojing","title","closable","onClose","afterVisibleChange","footer","set","skin","showPreview","style","position","bottom","left","zIndex","bodyStyle","paddingLeft","paddingRight","useState","setLiked","a","onLiked","styles","num","VideoPlayer","ChildPlayer","handleNewDmkChange","handleSendDmk","isSendingDmk","video","size","timeStamp","color","appendDmk","finally","handleTimeChange","handleDrawer","isOpen","showCmtDrawer","handleOpenCmt","handleLiked","User","likeCounts","commentsCount","description","tags","info","liveComents","author","tagName","tag","placeholder","shape","UpCircleOutlined","action","Like","Top","top","middle","navbar","right","Home","handleSwiperChange","swiper","videoList","inPageVideoList","activeIndex","update","videoItem","find","res","list","spaceBetween","slidesPerView","direction","onSlideChange","autoHeight","LivePlayer","liveComment","handleNewComment","handleSendComment","isSendingComment","current","createRef","live","input","disabled","Live","liveList","inPageLiveList","Option","Select","UserCenterCardLogin","mode","src","bg","handleTriggerQR","QrcodeOutlined","alt","xs","sm","md","lg","xl","xxl","AntDesignOutlined","uname","UserCenterCardLoginSucess","UserCenterCardRegi","hide","ContactsFilled","ages","EnvironmentFilled","regin","UserCenterFormRegi","regiFormRef","notiNetworkErr","notification","message","handleOnRegiSubmit","values","agreement","formSubmiting","onModechange","onRegisterSuccess","errors","emailUnvali","isEmailExist","unameUnvali","isUnameExist","tailFormItemLayout","wrapperCol","span","offset","handleAvatarChange","file","status","avatarUrl","setFieldsValue","onCardUpdate","avatarLoading","handleBgImgChange","bgImgUrl","bgImgLoading","bgImg","cardBg","handleUnameChange","handleReginChange","uploadButtonAvatar","LoadingOutlined","PlusOutlined","marginTop","uploadButtonBgImg","loaingAvatar","isJpgOrPng","isLt2M","name","onFinish","scrollToFirstError","label","hasFeedback","validateStatus","help","rules","required","Password","dependencies","getFieldValue","validator","_","Error","resolve","InfoCircleOutlined","whitespace","orientation","rotate","modalTitle","listType","showUploadList","beforeUpload","display","aspect","allowClear","valuePropName","href","UserCenterFormLogin","previewGet","user","bind","onCardReset","handlePreview","previewTimer","clearTimeout","newTimer","handleLogin","loginData","showMsg","username","password","onLoginSuccess","showIcon","layout","initialValues","remember","requiredMark","prefix","LockOutlined","iconRender","EyeTwoTone","EyeInvisibleOutlined","noStyle","UserCenterForm","handleChangeMode","handleResetLoginCard","handleSetLoginCard","handleSetRegiCard","handleLoginSuccess","history","push","formItem","UserCenter","ucenter","useHistory","playsInline","autoPlay","muted","x5-video-player-type","data-object-fit","poster","Text","TabPane","Tabs","MypageCover","NumberInfo","discribe","lcass","MypagMainWorks","works","work","preview","HeartOutlined","class","MypageMain","defaultActiveKey","centered","animated","inkBar","tabPane","tab","MypageInfo","block","handleShowQR","SmileFilled","Mypage","BasicExample","Ucenter","Vcomment","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.21d37ae0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"live\":\"LivePlayer_live__fkY4j\",\"info\":\"LivePlayer_info__3914u\",\"liveComents\":\"LivePlayer_liveComents__DLU61\",\"input\":\"LivePlayer_input__3pqNN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"Top_top__31tH1\",\"right\":\"Top_right__mXSyQ\",\"close-btn\":\"Top_close-btn__2NGeS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"like\":\"Like_like__3MFlF\",\"like-icon\":\"Like_like-icon__12-Nh\",\"liked\":\"Like_liked__3TB8c\",\"like-number\":\"Like_like-number__I12bo\"};","export const getToken = () => {\n  return localStorage.getItem('userToken')\n}\n\nexport const setToken = (token: string) => {\n  localStorage.setItem('userToken', token)\n}\n\nexport const removeToken = () => {\n  localStorage.removeItem('userToken')\n}\n\nexport const getUserId = () => {\n  return localStorage.getItem('userID')\n}\n\nexport const setUserId = (userId: string) => {\n  localStorage.setItem('userID', userId)\n}\n\nexport const removeUserId = () => {\n  localStorage.removeItem('userId')\n}\n","import React, { Component } from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { getToken, getUserId } from '../auth'\n\ninterface IProps {\n  component: typeof Component;\n  path: string;\n  exact?: boolean;\n}\n\nfunction authRoute (props: IProps) {\n  const logged = getToken() && getUserId()\n\n  return logged ? <Route exact={props.exact} path={props.path} component={props.component} /> : <Redirect to='/ucenter' />\n}\n\nexport default authRoute\n","import http from 'axios'\nimport { getToken, getUserId } from '../auth'\n\nhttp.defaults.baseURL = process.env.REACT_APP_API\n\n// if (process.env.NODE_ENV === 'development') {\n// require('../../mock/api')\n// }\n\n// 请求拦截器\nhttp.interceptors.request.use(function (config) {\n  const userId = getUserId()\n  const token = getToken()\n\n  if (userId && token) {\n    if (!config.data) config.data = {}\n    config.data.userId = parseInt(userId, 10)\n    config.data.token = token\n  }\n\n  return config\n}, function (error) {\n  return Promise.reject(error)\n})\n\n// 响应拦截器\nhttp.interceptors.response.use(function (response) {\n  return response\n}, function (error) {\n  return Promise.reject(error)\n})\n\nexport default http\n","import request from '../utils/request'\n\nexport const getVideoList = () => {\n  return request.post('/searchVideo')\n}\n\nexport const likeVideo = (data: {\n  videoId: number\n}) => {\n  return request.post('/like', data)\n}\n","import React from 'react'\nimport XGPlayer from 'xgplayer'\nimport HlsPlayer from 'xgplayer-hls'\n// import DPlayer from 'dplayer'\nimport './index.scss'\nimport classNames from 'classnames'\nimport axios from 'axios'\n\ninterface IProps {\n  type: 'video'|'live';\n  id: number;\n  _id: string;\n  url: string;\n  active?: boolean;\n  onRef?: any;\n  onTimeChange?: any;\n}\ninterface DmkResponse{\n  id: string,\n  start: number,\n  duration: number,\n  prior: boolean,\n  color: boolean,\n  txt: string,\n  style: any,\n  mode: string\n}\ninterface IState {\n  dmkList: DmkResponse[]\n}\n\nclass Player extends React.Component<IProps, IState> {\n  player: XGPlayer | undefined\n  constructor (props:IProps) {\n    super(props)\n    this.state = { dmkList: [] }\n    if (props.onRef) {\n      props.onRef(this)\n    }\n  }\n\n  initPlayer () {\n    const { type, id, _id, url } = this.props\n    console.log('start')\n    console.log(this.state.dmkList)\n    if (type === 'video') {\n      this.player = new XGPlayer({\n        id: `${type}${id}`,\n        width: window.innerWidth,\n        height: window.innerHeight,\n        url: url,\n        autoplay: true,\n        videoInit: true,\n        'x5-video-player-type': 'h5',\n        playsinline: false,\n        loop: true,\n        closeVideoStopPropagation: true, // 允许事件冒泡\n        closePlayVideoFocus: true, // 关闭自动 focus（与 swiperjs 冲突）\n        ignores: ['time', 'definition', 'error', 'fullscreen', 'i18n', 'pc', 'play', 'replay', 'volume'],\n        danmu: {\n          comments: this.state.dmkList,\n          area: {\n            start: 0.3,\n            end: 1\n          }\n        }\n      })\n      this.initDmk(_id, this.player)\n      this.player.on('timeupdate', (e) => {\n        this.props.onTimeChange(Math.round(parseFloat(e.maxPlayedTime) * 1000))\n      })\n    } else if (type === 'live') {\n      this.player = new HlsPlayer({\n        id: `${type}${id}`,\n        width: window.innerWidth,\n        height: window.innerHeight,\n        url: url,\n        autoplay: true,\n        videoInit: true,\n        controls: false,\n        'x5-video-player-type': 'h5',\n        playsinline: false,\n        closeVideoStopPropagation: true,\n        closePlayVideoFocus: true,\n        ignores: ['time', 'definition', 'error', 'fullscreen', 'i18n', 'loading', 'mobile', 'pc', 'play', 'poster', 'progress', 'replay', 'volume']\n      })\n    }\n\n    console.log(`[${id}] Player inited.`, this.player)\n  }\n\n  initDmk (_id: string, player: any) {\n    axios.post('https://qcmt57.fn.thelarkcloud.com/getDanmuku', { vedioId: _id }).then(response => {\n      console.log(response.data.dmkList)\n      this.setState({ dmkList: response.data.dmkList })\n      response.data.dmkList.forEach((dmk: any) => {\n        player.danmu.sendComment(dmk)\n      })\n      // player.danmu.comments = response.data.dmkList\n    }).catch(err => console.log(err))\n  }\n\n  appendDmk (newDmk : any) {\n    console.log('getDMK:', newDmk)\n    this.player?.danmu.sendComment(newDmk)\n  }\n\n  componentDidMount () {\n    const { active } = this.props\n\n    if (active) {\n      this.initPlayer()\n    }\n  }\n\n  componentDidUpdate () {\n    const { id, active } = this.props\n\n    // console.log(`[${id}] Player updated.`, this.player, active)\n\n    if (active) {\n      if (!this.player) {\n        this.initPlayer()\n      }\n    } else {\n      if (this.player) {\n        this.player.destroy()\n        delete this.player\n        console.log(`[${id}] Player destroyed.`, this.player)\n      }\n    }\n  }\n\n  render () {\n    const { id, type } = this.props\n\n    return (\n      <div className={classNames('player', { 'player-video': type === 'video', 'player-live': type === 'live' })}>\n        <div id={`${type}${id}`} />\n      </div>\n    )\n  }\n}\n\nexport default Player\n","import request from '../utils/request'\n\nexport const getComment = (data: any) => {\n  return request.post('/getComment', data)\n}\n\nexport const likeComment = (data: any) => {\n  return request.post('/likeComment', data)\n}\n\nexport const comment = (data: any) => {\n  return request.post('/comment', data)\n}\n\nexport const getCommentLive = (data: any) => {\n  return request.post('/getCommentLive', data)\n}\n\nexport const commentLive = (data: any) => {\n  return request.post('/commentLive', data)\n}\n","import React from 'react'\nimport './index.scss'\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'\nimport { ICommentProps } from '../Vcomment'\nimport { getComment, getCommentLive } from '../../api/comment'\n\n// interface VliveCommentProps{\n//   uname: string,\n//   content: string,\n//   cId: string\n// }\ninterface VliveCommentState{\n  displayComents: ICommentProps[],\n  allComments: ICommentProps[],\n  displayIndex: number,\n  bufferSize: number,\n  isPause: boolean\n}\nclass VliveComment extends React.Component <ICommentProps, any> {\n  render () {\n    return (\n      <div className='vlive-comment-item-wrapper'>\n        <span className='vlive-comment-item-uname'>{this.props.pname}</span>{this.props.content}\n      </div>\n    )\n  }\n}\ninterface commentRequest{\n  videoId: number\n}\ninterface commentResponse{\n  _id: string,\n  comment: string,\n  createdAt: Date,\n  updatedAt: Date,\n  isReply: boolean,\n  liked: number,\n  replyTo: string,\n  userId: string,\n  videoId: string,\n  userItem: any,\n  videoItem: any\n}\n\ninterface IVliveCommentWrapperProps {\n  id: number;\n  type: 'video' | 'live';\n}\n\nclass VliveCommentWrapper extends React.Component<IVliveCommentWrapperProps, VliveCommentState> {\n  demoo:ICommentProps = { id: 'name', content: 'ikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuiku', pname: '11', ptime: '1', like: false, avatar: 's', likeCount: 1 }\n  demomo:ICommentProps[] = [this.demoo]\n  wrapper: HTMLDivElement | null | undefined\n  interval:number = 0\n\n  constructor (props:any) {\n    super(props)\n    this.state = { displayIndex: 0, bufferSize: 2, displayComents: [], allComments: [], isPause: false }\n  }\n\n  componentDidMount () {\n    if (this.props.type === 'video') {\n      this.fetchComments({ videoId: this.props.id })\n      setInterval(():void => {\n        if (this.state.isPause) { return }\n        const comments = this.state.displayComents\n        this.state.displayIndex - this.state.bufferSize >= 0 && delete comments[this.state.displayIndex - this.state.bufferSize]\n        const nextCmt = this.state.allComments[this.state.displayIndex % this.state.allComments.length]\n        nextCmt && this.setState({ displayComents: comments.concat(nextCmt), displayIndex: (this.state.displayIndex + 1) })\n        //  this.scrollToBottom()\n      }, 1500)\n    }\n    if (this.props.type === 'live') {\n      this.fetchCommentsLive({ videoId: this.props.id })\n      this.interval = window.setInterval(() => { this.fetchCommentsLive({ videoId: this.props.id }) }, 2000)\n    }\n  }\n\n  componentWillUnmount () {\n    clearInterval(this.interval)\n  }\n\n  scrollToBottom = () => {\n    const messagesEndRef = document.getElementById('messagesEndRef')\n    messagesEndRef?.scrollIntoView({ behavior: 'smooth' })\n  };\n\n  handleTap = (e:any):void => {\n    const clientHeight = this.wrapper?.clientHeight\n    const scrollHeight = this.wrapper?.scrollHeight\n    const scrollTop = this.wrapper?.scrollTop\n    const isBottom = !(clientHeight && scrollTop && scrollHeight && scrollHeight > clientHeight && clientHeight + scrollTop === scrollHeight)\n    this.setState({ isPause: isBottom })\n  }\n\n  fetchComments (videoInfo:commentRequest) {\n    if (this.props.type === 'video') {\n      getComment({\n        videoId: videoInfo.videoId\n      })\n        .then((response:any):void => {\n          let data = response.data\n          if (!data.success) { return }\n          data = data.data\n          data = data.map((comment:commentResponse): ICommentProps => { return { id: comment._id, avatar: 'null', pname: comment?.userItem?.userName, ptime: comment.createdAt.toString(), likeCount: comment.liked, like: false, content: comment.comment } })\n          this.setState({ allComments: data })\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n    }\n  }\n\n  async fetchCommentsLive (videoInfo:commentRequest) {\n    try {\n      const response = await getCommentLive({\n        videoId: videoInfo.videoId\n      })\n      let data = response.data\n      if (!data.success) { return }\n      data = data.data\n      data = data.map((comment:commentResponse): ICommentProps => { return { id: comment._id, avatar: 'null', pname: comment?.userItem?.userName, ptime: comment.createdAt.toString(), likeCount: comment.liked, like: false, content: comment.comment } })\n      this.setState({ allComments: data })\n      if (data.length === 0) return\n      if (this.state.displayComents.length === 0 && data.length > 0) {\n        this.setState({\n          displayComents: data.slice(-2)\n        })\n        return\n      }\n      const newCommentIndex = data.findIndex((item:any) => {\n        return item.id === this.state.displayComents[this.state.displayComents.length - 1].id\n      })\n      if (this.state.displayComents.length > 0 && newCommentIndex < data.length - 1) {\n        this.setState({\n          displayComents: this.state.displayComents.concat(data.slice(-(data.length - newCommentIndex - 1)))\n        })\n        const comment = this.state.displayComents\n        for (let i = 0; i < comment.length - 2; i++) {\n          delete comment[i]\n        }\n        this.setState({\n          displayComents: comment\n        })\n        console.log(this.state)\n      }\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  render () {\n    return (\n      <div className='vlive-comment-wrapper' onTouchEnd={this.handleTap} ref={(c) => { this.wrapper = c }}>\n        <ReactCSSTransitionGroup\n          transitionName='example'\n          transitionEnterTimeout={500} transitionLeaveTimeout={500}\n        >\n          {this.state.displayComents.map((item, index) => {\n            return (\n\n              <VliveComment {...item} key={index} />\n            )\n          })}\n          <div id='messagesEndRef' />\n        </ReactCSSTransitionGroup>\n      </div>\n    )\n  }\n}\n\nexport default VliveCommentWrapper\n","import React from 'react'\nimport './index.scss'\n// import { Drawer, Button, Radio, Space } from 'antd'\nimport { Drawer, Typography, Avatar, Form, Button, Input } from 'antd'\nimport { UserOutlined, HeartFilled, SmileOutlined } from '@ant-design/icons'\nimport dayjs from 'dayjs'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport dayjszhcn from 'dayjs/locale/zh-cn'\nimport { Picker } from 'emoji-mart'\nimport { comment, getComment, likeComment } from '../../api/comment'\nconst { TextArea } = Input\nconst { Link } = Typography\ndayjs.extend(relativeTime)\ndayjs.locale(dayjszhcn)\n\ninterface ICommentProps{\n  id: string,\n  avatar:string,\n  pname:string,\n  ptime:string,\n  like:boolean,\n  likeCount:number,\n  content:string\n}\ninterface ICommentState{\n  isLiked:boolean\n}\nclass Comment extends React.Component<ICommentProps, ICommentState> {\n  constructor (props: ICommentProps) {\n    super(props)\n    this.state = { isLiked: false }\n  }\n\n  submitLike ():void {\n    if (this.state.isLiked) { return }\n    likeComment({\n      commentId: this.props.id\n    })\n      .then((response:any):void => {\n        const data = response.data\n        if (!data.success) { return }\n        this.setState({ isLiked: true })\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n  }\n\n  handleLike = (): void => {\n    if (this.state.isLiked) { return }\n    likeComment({\n      commentId: this.props.id\n    })\n      .then((response:any):void => {\n        const data = response.data\n        if (!data.success) { return }\n        this.setState({ isLiked: true })\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n  }\n\n  render () {\n    return (\n      <div className='vcomt-comt-wrapper'>\n        <div className='vcomt-comt-avatar'>\n          <Avatar icon={<UserOutlined />} />\n        </div>\n        <div className='vcomt-comt-content'>\n          <div className='vcomt-comt-content-uname'>\n            {this.props.pname}\n          </div>\n          <div className='vcomt-comt-content-commt'>\n            {this.props.content}\n          </div>\n          <div className='vcomt-comt-content-action'>\n            <div className='vcomt-comt-content-action-time'>\n              {this.props.ptime}\n            </div>\n            <div className='vcomt-comt-content-action-reply'>\n              <Link>回复</Link>\n            </div>\n          </div>\n        </div>\n        <div className='vcomt-comt-like' onClick={this.handleLike}>\n          <HeartFilled className={this.state.isLiked ? 'liked' : ''} />\n          <div className='vcomt-comt-like-num'>{this.state.isLiked ? this.props.likeCount + 1 : this.props.likeCount}</div>\n        </div>\n      </div>\n    )\n  }\n}\nclass VcommentAppeal extends React.Component {\n  render () {\n    return (\n      <div className='vcomt-action-appeal'>\n        <div className='vcomt-action-appeal-text-area'>\n          留下你的精彩评论吧\n        </div>\n        <div className='vcomt-action-appeal-micro-btn'>\n          <SmileOutlined />\n        </div>\n      </div>\n    )\n  }\n}\ninterface IPropsVcommentEditor{\n  onChange: (data: any) => void,\n  value: string,\n  submitting: boolean,\n  onSubmit: (data: any) => void,\n  onOpenEmoji: () => void\n}\nclass VcommentEditor extends React.Component<IPropsVcommentEditor, any> {\n  // constructor(props: IPropsVcommentEditor){\n  //   super(props)\n\n  // }\n  render () {\n    return (\n      <>\n        <Form.Item>\n          <TextArea rows={3} onChange={this.props.onChange} value={this.props.value} />\n        </Form.Item>\n        <Form.Item>\n          <Button htmlType='submit' loading={this.props.submitting} onClick={this.props.onSubmit} type='primary'>\n            评论一下\n          </Button>\n          <div className='vcomt-action-appeal-micro-btn' onClick={this.props.onOpenEmoji}>\n            <SmileOutlined />\n          </div>\n        </Form.Item>\n      </>\n    )\n  }\n}\n\ninterface IProps {\n  videoId: number,\n  visible: boolean,\n  onCmtClose: any\n  }\n\n  interface IState {\n    showEmojiModal: boolean,\n    vid: number,\n    placement: string,\n    count: number,\n    isTypeing: boolean,\n    isEmojing: boolean,\n    isSubmitting: boolean,\n    newComment: string,\n    comments:ICommentProps[]\n  }\n// class VCommentWrapper extends React.Component<IProps, IState> {\n// //   constructor(props:IProps){\n// //     super(props);\n// // }\n//   // constructor (props:IProps) {\n//   //   super(props)\n//   //   const mock:ICommentProps = {\n//   //     avatar: 'string',\n//   //     pname: 'string',\n//   //     ptime: 'string',\n//   //     like: true,\n//   //     likeCount: 1,\n//   //     content: 'string'\n//   //   }\n//   // }\n\n//   render () {\n//     return (\n//       <div className='vcomt-wrapper'>\n//         <Comment {...this.state.comments[0]} />\n//       </div>\n//     )\n//   }\n// }\ninterface commentRequest{\n  videoId: number\n}\ninterface commentResponse{\n  _id: string,\n  comment: string,\n  createdAt: Date,\n  updatedAt: Date,\n  isReply: boolean,\n  liked: number,\n  replyTo: string,\n  userId: string,\n  videoId: string,\n  userItem: any,\n  videoItem: any\n}\nclass VcommentDrawer extends React.Component<IProps, IState> {\n  constructor (props:IProps) {\n    super(props)\n    const mock:ICommentProps = {\n      id: 'null',\n      avatar: 'string',\n      pname: 'string',\n      ptime: 'string',\n      like: true,\n      likeCount: 1,\n      content: 'string'\n    }\n    this.state = { showEmojiModal: false, vid: this.props.videoId, placement: 'left', count: 1, isTypeing: false, isEmojing: false, comments: [mock, mock, mock], newComment: '', isSubmitting: false }\n    const request: commentRequest = { videoId: this.props.videoId }\n    this.fetchComments(request)\n  }\n\n  fetchComments (videoInfo:commentRequest):any {\n    getComment({\n      videoId: videoInfo.videoId\n    })\n      .then((response:any):void => {\n        let data = response.data\n        if (!data.success) { return }\n        data = data.data\n        console.log(data)\n        data = data.map((comment:commentResponse): ICommentProps => { return { id: comment._id, avatar: 'null', pname: comment?.userItem?.userName, ptime: dayjs(comment.createdAt).fromNow(), likeCount: comment.liked, like: false, content: comment.comment } })\n        console.log(data)\n        this.setState({ comments: data })\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n  }\n\n  handleClose = () => {\n    this.props.onCmtClose(false)\n  };\n\n  handleSubmit = () => {\n    if (!this.state.newComment) {\n      return\n    }\n    this.setState({\n      isSubmitting: true\n    })\n    comment({\n      comment: this.state.newComment,\n      videoId: this.props.videoId\n    })\n      .then((response:any):void => {\n        const data = response.data\n        if (!data.success) { return }\n        setTimeout(() => {\n          this.setState({\n            isSubmitting: false,\n            newComment: '',\n            comments: [\n              ...this.state.comments,\n              {\n                id: data.success,\n                avatar: '',\n                pname: '我',\n                ptime: dayjs(new Date()).fromNow(),\n                like: false,\n                likeCount: 0,\n                content: this.state.newComment\n              }\n            ]\n          })\n        }, 500)\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n  };\n\n  handleChange = (e: any): void => {\n    this.setState({\n      newComment: e.target.value\n    })\n  };\n\n  drawerChange = (visible: boolean):void => {\n    console.log(visible)\n  }\n\n  addEmoji = (emoji: any, event: any):void => {\n    this.setState({ newComment: this.state.newComment + emoji.native, showEmojiModal: false })\n  }\n\n  handleOpenEmojiModel = ():void => {\n    this.setState({ showEmojiModal: !this.state.showEmojiModal })\n  }\n\n  render () {\n    return (\n      <>\n        <Drawer\n          title={this.state.comments.length >= 0 ? `${this.state.comments.length} 条评论` : '评论区'}\n          placement='bottom'\n          closable\n          onClose={this.handleClose}\n          visible={this.props.visible}\n          key={this.state.placement}\n          afterVisibleChange={this.drawerChange}\n          footer={\n            <div><VcommentAppeal />\n              <div className='emoji-container'>\n                {this.state.showEmojiModal && <Picker\n                  set='apple'\n                  emoji=''\n                  skin={1}\n                  showPreview={false}\n                  style={{ position: 'absolute', bottom: '70px', left: '8px', zIndex: 1 }}\n                  onClick={(emoji :any, event :any):void => this.addEmoji(emoji, event)}\n                                              />}\n              </div>\n              <VcommentEditor submitting={this.state.isSubmitting} value={this.state.newComment} onChange={this.handleChange} onSubmit={this.handleSubmit} onOpenEmoji={this.handleOpenEmojiModel} />\n            </div>\n            }\n          height={500}\n          bodyStyle={{ paddingLeft: 5, paddingRight: 5 }}\n        >\n          {this.state.comments.map((comment, index) => {\n            return (\n              <Comment {...comment} key={index} />\n            )\n          })}\n        </Drawer>\n      </>\n    )\n  }\n}\n\nexport default VcommentDrawer\nexport type { ICommentProps }\n","import classNames from 'classnames'\nimport { useState } from 'react'\nimport { likeVideo } from '../../api/video'\nimport styles from './index.module.scss'\n\ninterface IProps {\n  videoId: number;\n  num: number;\n  onLiked: Function;\n}\n\nfunction like (props: IProps) {\n  const [liked, setLiked] = useState(false)\n\n  async function handleClick () {\n    if (liked) return\n\n    setLiked(true)\n    props.onLiked(props.videoId)\n\n    try {\n      await likeVideo({ videoId: props.videoId })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  return (\n    <div className={styles.like} onClick={handleClick}>\n      <div className={classNames(styles['like-icon'], { [styles.liked]: liked })} />\n      <div className={styles['like-number']}>{props.num}</div>\n    </div>\n  )\n}\n\nexport default like\n","import React from 'react'\nimport styles from './index.module.scss'\nimport Player from '../Player'\nimport { IVideo } from '../../types/video'\nimport classNames from 'classnames'\nimport { Button } from 'antd'\nimport { UpCircleOutlined } from '@ant-design/icons'\nimport VliveComment from '../Vlivecomment'\nimport VcommentDrawer from '../Vcomment'\nimport { createDanmuku } from '../../api/danmuku'\nimport Like from '../../components/Like'\n\ninterface IProps {\n  video: IVideo;\n  active?: boolean;\n  onLiked?: Function;\n}\n\ninterface IState {\n  newDmk: string,\n  timeStamp: number,\n  isSendingDmk: boolean,\n  showCmtDrawer: boolean\n}\n\nclass VideoPlayer extends React.Component<IProps, IState> {\n  ChildPlayer: any\n  handleNewDmkChange = (e: any):void => {\n    this.setState({ newDmk: e.target.value })\n  }\n\n  constructor (props: IProps) {\n    super(props)\n    this.state = { newDmk: '', timeStamp: 0, isSendingDmk: false, showCmtDrawer: false }\n  }\n\n  handleSendDmk = (e:any):void => {\n    if (!this.state.newDmk) { return }\n    this.setState({ isSendingDmk: true })\n    createDanmuku({\n      vedioId: this.props.video._id,\n      content: this.state.newDmk,\n      size: 20,\n      start: this.state.timeStamp,\n      color: '#001835'\n    }).then((response:any) => {\n      if (response.data.success) {\n        this.setState({ newDmk: '' })\n        this.ChildPlayer && this.ChildPlayer.appendDmk({ ...response.data.data, start: (this.state.timeStamp + 1500) })\n      }\n    }).catch(err => console.log(err)).finally(() => { this.setState({ isSendingDmk: false }) })\n  }\n\n  handleTimeChange = (timeStamp: number):void => {\n    this.setState({ timeStamp: timeStamp })\n  }\n\n  handleDrawer = (isOpen: boolean):void => {\n    this.setState({ showCmtDrawer: isOpen })\n  }\n\n  handleOpenCmt = ():void => {\n    console.log('open drawer')\n    this.setState({ showCmtDrawer: true })\n  }\n\n  handleLiked = () => {\n    if (this.props.onLiked) {\n      this.props.onLiked(this.props.video)\n    }\n  }\n\n  render () {\n    const { _id, videoId, url, User, likeCounts, commentsCount, description, tags } = this.props.video\n    const { active } = this.props\n\n    return (\n      <div className={classNames(styles.video, { 'video-avtice': active })}>\n        <Player _id={_id} id={videoId} url={url} type='video' active={active} onTimeChange={this.handleTimeChange} onRef={(c:any) => { this.ChildPlayer = c }} />\n        <VcommentDrawer videoId={videoId} visible={this.state.showCmtDrawer} onCmtClose={this.handleDrawer} />\n        <div className={styles.info}>\n          <div className={styles.liveComents}>\n            <VliveComment type='video' id={videoId} />\n          </div>\n          <div className={styles.author}>\n            @{User[0].userName}\n          </div>\n          <div className={styles.description}>\n            {description}\n          </div>\n          <div className={styles.tags}>\n            {tags && tags.map(tagName => {\n              return (<span className={styles.tag} key={tagName}>#{tagName}</span>)\n            })}\n          </div>\n          <div className={styles.danmu}>\n            <input value={this.state.newDmk} onChange={this.handleNewDmkChange} placeholder='发个友善的弹幕见证当下' />\n            <Button type='primary' shape='circle' icon={<UpCircleOutlined />} size='middle' onClick={this.handleSendDmk} loading={this.state.isSendingDmk} />\n          </div>\n        </div>\n        <div className={styles.action}>\n          <Like videoId={videoId} num={likeCounts} onLiked={this.handleLiked} />\n          <div className={styles.comment} onClick={this.handleOpenCmt}>\n            <div className={styles['comment-icon']} />\n            <div className={styles['comment-number']}>{commentsCount}</div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default VideoPlayer\n","import request from '../utils/request'\n\nexport const createDanmuku = (data: any) => {\n  return request.post('/createDanmuku', data)\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styles from './index.module.scss'\n\ninterface IProps {\n}\n\ninterface IState {\n}\n\nclass Top extends React.Component<IProps, IState> {\n  render () {\n    return (\n      <div className={styles.top}>\n        <div className={styles.left}>\n          <Link to='/live'>\n            <div style={{ color: '#ffffff' }}>直播</div>\n          </Link>\n        </div>\n        <div className={styles.middle}>\n          <div className={styles.navbar}>\n            <div className={styles['navbar-item']}>同城</div>\n            <div className={styles['navbar-item']}>关注</div>\n            <div className={`${styles['navbar-item']} ${styles['navbar-item-active']}`}>推荐</div>\n          </div>\n        </div>\n        <div className={styles.right}>\n          <div className={styles['search-btn']} />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Top\n","import React from 'react'\n// import { Link } from 'react-router-dom'\nimport { getVideoList } from '../../api/video'\nimport VideoPlayer from '../../components/VideoPlayer'\nimport { IVideo } from '../../types/video'\nimport Top from './Top'\nimport './index.scss'\n\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport SwiperClass from 'swiper/types/swiper-class'\nimport 'swiper/swiper.scss'\n\ninterface IProps {\n}\n\ninterface IState {\n  videoList: Array<IVideo>;\n  inPageVideoList: Array<IVideo>;\n  activeIndex: number;\n}\n\nclass Home extends React.Component<IProps, IState> {\n  constructor (props: IProps) {\n    super(props)\n\n    this.state = {\n      videoList: [],\n      inPageVideoList: [],\n      activeIndex: 0\n    }\n  }\n\n  async componentDidMount () {\n    try {\n      const res = await getVideoList()\n      const videoList: Array<IVideo> = res.data.success.list\n      this.setState({\n        videoList\n      })\n      this.setState({\n        inPageVideoList: videoList.slice(0, 2)\n      })\n      console.log(this.state)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  handleSwiperChange = (swiper: SwiperClass) => {\n    console.log(swiper)\n    const { videoList, inPageVideoList } = this.state\n    const { activeIndex } = swiper\n    if (activeIndex === inPageVideoList.length - 1 && activeIndex < videoList.length - 1) {\n      console.log('added')\n      this.setState({\n        inPageVideoList: [...inPageVideoList, videoList[activeIndex + 1]]\n      })\n      swiper.update()\n    }\n    console.log('Active swiper:', activeIndex)\n    this.setState({\n      activeIndex: activeIndex\n    })\n  }\n\n  handleLiked = (video: IVideo) => {\n    const videoItem = this.state.videoList.find(item => item === video)\n    if (videoItem) videoItem.likeCounts++\n  }\n\n  render () {\n    const { inPageVideoList, activeIndex } = this.state\n\n    return (\n      <div className='home'>\n        <Top />\n        {inPageVideoList && inPageVideoList.length &&\n          <Swiper\n            spaceBetween={0}\n            slidesPerView={1}\n            direction='vertical'\n            onSlideChange={(swiper) => this.handleSwiperChange(swiper)}\n            // onTouchStart={() => { console.log('onTouchStart') }}\n            // onTouchMove={() => { console.log('onTouchMove') }}\n            height={window.innerHeight}\n            autoHeight\n          >\n            {inPageVideoList.map((video, index) => {\n              return (\n                <SwiperSlide key={video._id}>\n                  <VideoPlayer video={video} active={activeIndex === index} onLiked={this.handleLiked} />\n                </SwiperSlide>\n              )\n            })}\n          </Swiper>}\n      </div>\n    )\n  }\n}\n\nexport default Home\n","import React from 'react'\nimport styles from './index.module.scss'\nimport Player from '../Player'\nimport { IVideo } from '../../types/video'\nimport VliveComment from '../Vlivecomment'\nimport { Button } from 'antd'\nimport { commentLive } from '../../api/comment'\n\ninterface IProps {\n  video: IVideo;\n  active?: boolean;\n}\n\ninterface IState {\n  comment: string;\n  isSendingComment: boolean;\n}\n\nclass LivePlayer extends React.Component<IProps, IState> {\n  liveComment: React.RefObject<VliveComment>\n\n  constructor (props:IProps) {\n    super(props)\n    this.state = {\n      comment: '',\n      isSendingComment: false\n    }\n    this.liveComment = React.createRef()\n  }\n\n  handleNewComment = (e: any) => {\n    this.setState({\n      comment: e.target.value\n    })\n  }\n\n  handleSendComment = async () => {\n    this.setState({\n      isSendingComment: true\n    })\n    try {\n      await commentLive({\n        comment: this.state.comment\n      })\n      this.setState({\n        comment: ''\n      })\n    } catch (e) {\n      console.log(e)\n    }\n    this.setState({\n      isSendingComment: false\n    })\n    this.liveComment.current?.fetchCommentsLive({ videoId: this.props.video.videoId })\n  }\n\n  render () {\n    const { _id, videoId, url } = this.props.video\n    const { active } = this.props\n\n    return (\n      <div className={styles.live}>\n        <Player _id={_id} id={videoId} url={url} type='live' active={active} />\n        <div className={styles.info}>\n          <div className={styles.liveComents}>\n            <VliveComment ref={this.liveComment} type='live' id={videoId} />\n            <div className={styles.input}>\n              <input className={styles.input} value={this.state.comment} onChange={this.handleNewComment} placeholder='说点什么...' />\n              <Button type='primary' size='small' shape='round' onClick={this.handleSendComment} loading={this.state.isSendingComment} disabled={this.state.comment === ''}>发送</Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default LivePlayer\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styles from './index.module.scss'\n\ninterface IProps {\n}\n\ninterface IState {\n}\n\nclass Top extends React.Component<IProps, IState> {\n  render () {\n    return (\n      <div className={styles.top}>\n        <div className={styles.left} />\n        <div className={styles.middle} />\n        <div className={styles.right}>\n          <Link to='/'>\n            <div className={styles['close-btn']} />\n          </Link>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Top\n","import React from 'react'\nimport { getLiveList } from '../../api/live'\nimport LivePlayer from '../../components/LivePlayer'\nimport { IVideo } from '../../types/video'\nimport Top from './Top'\n\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport SwiperClass from 'swiper/types/swiper-class'\nimport 'swiper/swiper.scss'\n\ninterface IProps {\n}\n\ninterface IState {\n  liveList: Array<IVideo>;\n  inPageLiveList: Array<IVideo>;\n  activeIndex: number;\n}\n\nclass Live extends React.Component<IProps, IState> {\n  constructor (props: IProps) {\n    super(props)\n\n    this.state = {\n      liveList: [],\n      inPageLiveList: [],\n      activeIndex: 0\n    }\n  }\n\n  async componentDidMount () {\n    try {\n      const res = await getLiveList()\n      const liveList: Array<IVideo> = res.data.success.list\n      this.setState({\n        liveList\n      })\n      this.setState({\n        inPageLiveList: liveList.slice(0, 2)\n      })\n      console.log(this.state)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  handleSwiperChange = (swiper: SwiperClass) => {\n    console.log(swiper)\n    const { liveList, inPageLiveList } = this.state\n    const { activeIndex } = swiper\n    if (activeIndex === inPageLiveList.length - 1 && activeIndex < liveList.length - 1) {\n      console.log('added')\n      this.setState({\n        inPageLiveList: [...inPageLiveList, liveList[activeIndex + 1]]\n      })\n      swiper.update()\n    }\n    console.log('Active swiper:', activeIndex)\n    this.setState({\n      activeIndex: activeIndex\n    })\n  }\n\n  render () {\n    const { inPageLiveList, activeIndex } = this.state\n\n    return (\n      <div className='live'>\n        <Top />\n        {inPageLiveList && inPageLiveList.length &&\n          <Swiper\n            spaceBetween={0}\n            slidesPerView={1}\n            direction='vertical'\n            onSlideChange={(swiper) => this.handleSwiperChange(swiper)}\n          // onTouchStart={() => { console.log('onTouchStart') }}\n          // onTouchMove={() => { console.log('onTouchMove') }}\n            height={window.innerHeight}\n            autoHeight\n          >\n            {inPageLiveList.map((video, index) => {\n              return (\n                <SwiperSlide key={video._id}>\n                  <LivePlayer video={video} active={activeIndex === index} />\n                </SwiperSlide>\n              )\n            })}\n          </Swiper>}\n      </div>\n    )\n  }\n}\n\nexport default Live\n","import request from '../utils/request'\n\nexport const getLiveList = () => {\n  return request.post('/searchLive')\n}\n","import React from 'react'\nimport { Form, Input, Button, Checkbox, Avatar, Select, Tooltip, DatePicker, Divider, Upload, message, Alert, notification } from 'antd'\nimport { UserOutlined, LockOutlined, EyeInvisibleOutlined, EyeTwoTone, InfoCircleOutlined, QrcodeOutlined, AntDesignOutlined, LoadingOutlined, PlusOutlined, EnvironmentFilled, ContactsFilled } from '@ant-design/icons'\nimport ImgCrop from 'antd-img-crop'\nimport axios from 'axios'\nimport './Ucenter.scss'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\nimport { setToken, setUserId } from '../../utils/auth'\nimport { useHistory } from 'react-router-dom'\nconst { Option } = Select\n\nclass UserCenterCardLogin extends React.Component {\n  handleTriggerQR () {\n    console.log('QRCode is unavaliable now')\n  }\n\n  render () {\n    return (\n      <div className={`usercenter-card -front ${this.props.mode === 'login' ? 'show' : 'hide'} `}>\n        <div className='usercenter-card-focus' />\n        <div className='usercenter-card-background'>\n          <img\n            src={this.props.bg} className='usercenter-card__bg'\n          />\n        </div>\n        <div className='usercenter-card-wrapper'>\n          <div className='usercenter-card-login-header'>\n            <div className='usercenter-card-login-header_qrbtn' onClick={this.handleTriggerQR}>\n              <QrcodeOutlined />\n            </div>\n            <img className='usercenter-card-login-header_logo' src='//sf3-ttcdn-tos.pstatp.com/obj/ttfe/passport/sso/douyin/douyin-logo_1576745941218.png' alt='logo' />\n\n          </div>\n          <div className='usercenter-card-login-content'>\n            <Avatar\n              size={{ xs: 70, sm: 70, md: 70, lg: 80, xl: 80, xxl: 80 }}\n              src={this.props.avatar}\n              icon={<AntDesignOutlined />}\n            />\n            <div className='usercenter-card-login-content_user'>{this.props.uname}</div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nUserCenterCardLogin.propTypes = {\n  mode: PropTypes.string,\n  bg: PropTypes.string,\n  avatar: PropTypes.string,\n  uname: PropTypes.string\n}\nclass UserCenterCardLoginSucess extends React.Component {\n  render () {\n    return (\n      <div className={`usercenter-card -back ${this.props.mode === 'loginSucs' || this.props.mode === 'regiSucs' ? 'show' : 'hide'}`}>\n        <div className='usercenter-card-focus' />\n        <div className='usercenter-card-background'>\n          <img\n            src={this.props.bg} className='usercenter-card__bg'\n          />\n        </div>\n        <div className='usercenter-card-wrapper'>\n          <div className='usercenter-card-login-header'>\n            <div className='usercenter-card-login-header_info'>\n              {/* <div style={{\"color\":\"white\"}}>新年快乐</div> */}\n            </div>\n            <img className='usercenter-card-login-header_logo' src='//sf3-ttcdn-tos.pstatp.com/obj/ttfe/passport/sso/douyin/douyin-logo_1576745941218.png' alt='logo' />\n\n          </div>\n          <div className='usercenter-card-login-content'>\n            <Avatar\n              size={{ xs: 70, sm: 40, md: 40, lg: 64, xl: 80, xxl: 100 }}\n              src={this.props.avatar}\n              icon={<AntDesignOutlined />}\n            />\n            <div className='usercenter-card-login-content_user'>{this.props.uname}</div>\n            <div className='usercenter-card-login-content_info'>欢迎回来，正在跳转...</div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nUserCenterCardLoginSucess.propTypes = {\n  mode: PropTypes.string,\n  bg: PropTypes.string,\n  avatar: PropTypes.string,\n  uname: PropTypes.string\n}\nclass UserCenterCardRegi extends React.Component {\n  // constructor (props) {\n  //   super(props)\n  // }\n\n  hadleTriggerQR () {\n    console.log('QRCode is unavaliable now')\n  }\n\n  render () {\n    return (\n      <div className={classNames('usercenter-card', '-register', '-front', { hide: this.props.mode !== 'regi' })}>\n        <div className='usercenter-card-background'>\n          <img\n            src={this.props.bg} className='usercenter-card__bg'\n          />\n        </div>\n        <div className='usercenter-card-wrapper'>\n          <div className='usercenter-card-regi-header'>\n            <div className='usercenter-card-regi-header-info' onClick={this.handleTriggerQR}>\n              <div className='item'><ContactsFilled />{this.props.ages}</div>\n              <div className='item'><EnvironmentFilled />{this.props.regin}</div>\n            </div>\n            <img className='usercenter-card-login-header_logo' src='//sf3-ttcdn-tos.pstatp.com/obj/ttfe/passport/sso/douyin/douyin-logo_1576745941218.png' alt='logo' />\n\n          </div>\n          <div className='usercenter-card-login-content'>\n            <Avatar\n              size={{ xs: 70, sm: 40, md: 40, lg: 64, xl: 80, xxl: 100 }}\n              src={this.props.avatar}\n              icon={<AntDesignOutlined />}\n            />\n            <div className='usercenter-card-login-content_user'>{this.props.uname}</div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nUserCenterCardRegi.propTypes = {\n  mode: PropTypes.string,\n  bg: PropTypes.string,\n  avatar: PropTypes.string,\n  ages: PropTypes.string,\n  regin: PropTypes.string,\n  uname: PropTypes.string\n}\nclass UserCenterFormRegi extends React.Component {\n  regiFormRef = React.createRef();\n  constructor (props) {\n    super(props)\n    this.state = { loaingAvatar: false, avatarUrl: '', avatarLoading: false, bgImgUrl: '', bgImgLoading: false, emailUnvali: false, unameUnvali: false, formSubmiting: false }\n  }\n\n  notiNetworkErr = () => {\n    notification.error({\n      message: '注册提交失败',\n      description:\n        '提交注册信息的时候和星球失去连接啦，再尝试一下吧'\n    })\n  }\n\n  handleOnRegiSubmit = (values) => {\n    console.log('Received values of form: ', values)\n    delete values.agreement\n    this.setState({ formSubmiting: true })\n    axios.post('https://qcmt57.fn.thelarkcloud.com/register', values).then(response => {\n      console.log(response)\n      if (response.data.success) {\n        console.log('Registered!!')\n        setUserId(response.data.userId)//  save token/Uid to local\n        setToken(response.data.token)\n        this.props.onModechange('regiSucs')\n        this.props.onRegisterSuccess()\n      } else {\n        const errors = { emailUnvali: response.data.isEmailExist, unameUnvali: response.data.isUnameExist }\n        this.setState(errors)\n      }\n    }).catch(err => {\n      console.log(err)\n      this.notiNetworkErr()\n    })\n  }\n\n  tailFormItemLayout = {\n    wrapperCol: {\n      xs: {\n        span: 24,\n        offset: 0\n      },\n      sm: {\n        span: 16,\n        offset: 8\n      }\n    }\n  };\n\n  beforeUpload (file) {\n    const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png'\n    if (!isJpgOrPng) {\n      message.error('You can only upload JPG/PNG file!')\n    }\n    const isLt2M = file.size / 1024 / 1024 < 2\n    if (!isLt2M) {\n      message.error('Image must smaller than 2MB!')\n    }\n    return isJpgOrPng && isLt2M\n  }\n\n  handleAvatarChange = info => {\n    console.log(info)\n    if (info.file.status === 'uploading') {\n      this.setState({ avatarLoading: true })\n      return\n    }\n    if (info.file.status === 'done') {\n      if (info.file.response.success) {\n        this.setState({ avatarUrl: info.file.response.url })\n        this.regiFormRef.current.setFieldsValue({ avatar: info.file.response.url })\n        this.props.onCardUpdate({ avatar: info.file.response.url })\n      }\n    }\n  };\n\n  handleBgImgChange = info => {\n    if (info.file.status === 'uploading') {\n      this.setState({ bgImgLoading: true })\n      return\n    }\n    if (info.file.status === 'done') {\n      if (info.file.response.success) {\n        this.setState({ bgImgUrl: info.file.response.url, bgImgLoading: false })\n        this.regiFormRef.current.setFieldsValue({ bgImg: info.file.response.url })\n        this.props.onCardUpdate({ cardBg: info.file.response.url })\n      }\n    }\n  }\n\n  handleUnameChange = e => {\n    this.props.onCardUpdate({ uname: e.target.value || '抖音' })\n  }\n\n  handleReginChange = e => {\n    this.props.onCardUpdate({ regin: e.target.value || '地球村' })\n  }\n\n  uploadButtonAvatar= () => (\n    <div>\n      {this.state.avatarLoading ? <LoadingOutlined /> : <PlusOutlined />}\n      <div style={{ marginTop: 8 }}>上传头像</div>\n    </div>\n  );\n\n  uploadButtonBgImg= () => (\n    <div>\n      {this.state.bgImgLoading ? <LoadingOutlined /> : <PlusOutlined />}\n      <div style={{ marginTop: 8 }}>上传背景图</div>\n    </div>\n  );\n\n  handleChange = () => {\n    (this.state.unameUnvali || this.state.emailUnvali) && this.setState({ emailUnvali: false, unameUnvali: false })\n  }\n\n  render () {\n    return (\n      <div className='usercenter-form-card'>\n        <Form\n          ref={this.regiFormRef} name='control-ref' onFinish={this.handleOnRegiSubmit}\n          scrollToFirstError\n          // onChange={this.handleChange}\n        >\n          <Form.Item\n            name='email'\n            label='邮箱'\n            hasFeedback\n            {...this.state.emailUnvali\n              ? {\n                  validateStatus: 'error',\n                  help: '这个邮箱已经被使用过了'\n                }\n              : {}}\n            rules={[{ required: true, type: 'email', message: '请输入正确的邮箱地址' }]}\n          >\n            <Input style={{ width: '100%' }} />\n          </Form.Item>\n          <Form.Item\n            name='password'\n            label='密码'\n            rules={[\n              {\n                required: true,\n                message: '请输入密码'\n              }\n            ]}\n            hasFeedback\n          >\n            <Input.Password />\n          </Form.Item>\n\n          <Form.Item\n            name='confirm'\n            label='确认密码'\n            dependencies={['password']}\n            hasFeedback\n            rules={[\n              {\n                required: true,\n                message: '请确认您的密码'\n              },\n              ({ getFieldValue }) => ({\n                validator (_, value) {\n                  if (!value || getFieldValue('password') === value) {\n                    return Promise.resolve()\n                  }\n                  return Promise.reject(new Error('两个密码不匹配'))\n                }\n              })\n            ]}\n          >\n            <Input.Password />\n          </Form.Item>\n          <Form.Item\n            name='userName'\n            label={\n              <span>\n                昵称&nbsp;\n                <Tooltip title='注册之后可以随时在个人中心修改'>\n                  <InfoCircleOutlined />\n                </Tooltip>\n              </span>\n        }\n            hasFeedback\n            {...this.state.unameUnvali\n              ? {\n                  validateStatus: 'error',\n                  help: '你很有眼光，但是已经被人看中啦'\n                }\n              : {}}\n            rules={[{ required: true, message: '一个昵称可以更好的让别人记住你哦', whitespace: true }]}\n          >\n            <Input onChange={this.handleUnameChange} />\n          </Form.Item>\n          <Divider orientation='left'>个性信息</Divider>\n          <Form.Item\n            label='头像'\n          >\n            <ImgCrop rotate shape='round' modalTitle='裁剪头像'>\n              <Upload\n                name='file'\n                listType='picture-card'\n                className='avatar-uploader'\n                showUploadList={false}\n                action='https://qcmt57.fn.thelarkcloud.com/fileUpload'\n                beforeUpload={this.beforeUpload}\n                onChange={this.handleAvatarChange}\n              >\n                {this.state.avatarUrl ? <img src={this.state.avatarUrl} alt='avatar' style={{ width: '100%' }} /> : this.uploadButtonAvatar()}\n              </Upload>\n            </ImgCrop>\n          </Form.Item>\n          <Form.Item\n            name='avatar'\n            style={{ display: 'none' }}\n          >\n            <Input />\n          </Form.Item>\n          <Form.Item\n            label='背景图'\n          >\n            <ImgCrop rotate modalTitle='裁剪卡片背景' aspect={16 / 9}>\n              <Upload\n                name='file'\n                listType='picture-card'\n                showUploadList={false}\n                action='https://qcmt57.fn.thelarkcloud.com/fileUpload'\n                beforeUpload={this.beforeUpload}\n                onChange={this.handleBgImgChange}\n                style={{ width: '50px', height: '28px' }}\n              >\n                {this.state.bgImgUrl ? <img src={this.state.bgImgUrl} alt='avatar' style={{ width: '100%' }} /> : this.uploadButtonBgImg()}\n              </Upload>\n            </ImgCrop>\n          </Form.Item>\n          <Form.Item\n            name='bgImg'\n            style={{ display: 'none' }}\n          >\n            <Input />\n          </Form.Item>\n          <Form.Item\n            name='birthDay'\n            label='生日'\n          >\n            <DatePicker />\n          </Form.Item>\n          <Form.Item\n            name='regin'\n            label='所在地'\n          >\n            <Input style={{ width: '100%' }} onChange={this.handleReginChange} />\n          </Form.Item>\n          <Form.Item\n            name='gender'\n            label='性别'\n            rules={[\n              {\n                required: true\n              }\n            ]}\n          >\n            <Select\n              placeholder='请选择性别'\n              allowClear\n              style={{ width: '50%' }}\n            >\n              <Option value='male'>男</Option>\n              <Option value='female'>女</Option>\n              <Option value='other'>保密</Option>\n            </Select>\n          </Form.Item>\n          <Form.Item\n            name='agreement'\n            valuePropName='checked'\n            rules={[\n              {\n                validator: (_, value) =>\n                  value ? Promise.resolve() : Promise.reject(new Error('注册用户需要先同意用户协议'))\n              }\n            ]}\n            {...(this.tailFormItemLayout)}\n          >\n            <Checkbox>\n              我已阅读并同意 <a href='#'>用户协议</a>\n            </Checkbox>\n          </Form.Item>\n          <Form.Item {...(this.tailFormItemLayout)}>\n            <Button type='primary' htmlType='submit' loading={this.state.formSubmiting}>\n              加入抖音\n            </Button>\n          </Form.Item>\n          <span>\n            已有帐号请 <a href='#' onClick={() => this.props.onModechange('login')}>登录</a>\n          </span>\n        </Form>\n      </div>\n    )\n  }\n}\n\nUserCenterFormRegi.propTypes = {\n  mode: PropTypes.string,\n  onCardUpdate: PropTypes.func,\n  onModechange: PropTypes.func,\n  onRegisterSuccess: PropTypes.func\n}\nclass UserCenterFormLogin extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = { loading: false, disabled: false, showMsg: false, previewTimer: null }\n  }\n\n  previewGet= (user) => {\n    axios.post('https://qcmt57.fn.thelarkcloud.com/userIconPreview', {\n      user: user\n    })\n      .then(function (response) {\n        if (!response.data.success) { throw (new Error()) }\n        this.props.onCardUpdate(response.data)\n      }.bind(this))\n      .catch(function (error) {\n        console.log(error)\n        this.props.onCardReset()\n      }.bind(this))\n  }\n\n  handlePreview=(e) => {\n    if (this.state.previewTimer) { clearTimeout(this.state.previewTimer) }\n    const newTimer = setTimeout(function () {\n      this.previewGet(e.target.value)\n    }.bind(this), 400)\n    this.setState({ previewTimer: newTimer })\n  }\n\n  handleLogin = (loginData) => {\n    console.log(loginData)\n    this.setState({ loading: true, showMsg: false })\n    axios.post('https://qcmt57.fn.thelarkcloud.com/login', {\n      userName: loginData.username,\n      password: loginData.password\n    })\n      .then(function (response) {\n        console.log(response)\n        this.setState({ loading: false, disabled: true })\n        if (!response.data.success) { throw (new Error('login failed')) }\n        setToken(response.data.token) // save token to local\n        setUserId(response.data.userId)\n        this.props.onModechange('loginSucs')\n        console.log(this.props)\n        this.props.onLoginSuccess()\n      }.bind(this))\n      .catch(function (error) {\n        this.setState({ loading: false, showMsg: true })\n        console.log(error)\n      }.bind(this))\n  }\n\n  render () {\n    return (\n      <div className='usercenter-form-card usercenter-form-login'>\n        {this.state.showMsg ? (<Alert message='帐号/密码错误，请确认后重试' type='error' showIcon />) : ''}\n        <Form\n          name='normal_login'\n          id='usercenter-form-card-content'\n          layout='vertical'\n          initialValues={{ remember: true }}\n          onFinish={this.handleLogin}\n          requiredMark={false}\n        >\n          <Form.Item\n            name='username'\n            rules={[{ required: true, message: '请输入用户名' }]}\n          >\n            <Input prefix={<UserOutlined className='site-form-item-icon' />} placeholder='邮箱/用户名' onChange={this.handlePreview} />\n          </Form.Item>\n          <Form.Item\n            name='password'\n            rules={[{ required: true, message: '请输入密码' }]}\n          >\n            <Input.Password\n              className='input'\n              prefix={<LockOutlined className='site-form-item-icon' />}\n              placeholder='账号密码'\n              iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)}\n            />\n          </Form.Item>\n          <Form.Item style=''>\n            <Form.Item name='remember' valuePropName='checked' noStyle>\n              <Checkbox>记住密码</Checkbox>\n            </Form.Item>\n            <a className='login-form-forgot' href='#'>\n              忘记密码?\n            </a>\n          </Form.Item>\n          <div className='login-form-btn'>\n            <Form.Item className='login-btn' noStyle>\n              <Button type='primary' htmlType='submit' loading={this.state.loading} disabled={this.props.mode !== 'login'}>\n                登录\n              </Button>\n            </Form.Item>\n          </div>\n          <div className='login-form-footer'>\n            <Form.Item>\n              或 <a href='#' onClick={() => this.props.onModechange('regi')}>现在注册</a>\n            </Form.Item>\n          </div>\n        </Form>\n      </div>\n    )\n  }\n}\nUserCenterFormLogin.propTypes = {\n  onCardUpdate: PropTypes.func,\n  onCardReset: PropTypes.func,\n  onModechange: PropTypes.func,\n  mode: PropTypes.string,\n  onLoginSuccess: PropTypes.func\n}\n\nclass UserCenterForm extends React.Component {\n  constructor (props) {\n    super(props)\n    const defaultAvatar = 'https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qcmt57/0bb96d4c05cc0a53_1612876378525.jpeg'\n    const defaultBg = 'https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qcmt57/34d55516367c98c2_1612876325199.png'\n    this.state = { mode: 'login', cardBg: defaultBg, avatar: defaultAvatar, uname: '抖音', ages: '小鲜肉', regin: '地球村' }\n  }\n\n  handleChangeMode = (mode) => {\n    this.setState({ mode: mode })\n  }\n\n  onFinish = (values) => {\n    console.log('Received values of form: ', values)\n  };\n\n  handleResetLoginCard=() => {\n    const defaultAvatar = 'https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qcmt57/0bb96d4c05cc0a53_1612876378525.jpeg'\n    const defaultBg = 'https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qcmt57/34d55516367c98c2_1612876325199.png'\n    this.setState({ cardBg: defaultBg, avatar: defaultAvatar })\n  }\n\n  handleSetLoginCard = (props) => {\n    this.setState({ cardBg: props.data.bgImg, uname: props.data.uname, avatar: props.data.avatar })\n  }\n\n  handleSetRegiCard = (props) => {\n    this.setState({ ...this.state, ...props })\n  }\n\n  handleLoginSuccess = () => {\n    setTimeout(() => {\n      this.props.history.push('/')\n    }, 1000)\n  }\n\n  render () {\n    let formItem = {}\n    switch (this.state.mode) {\n      case 'login':\n      case 'loginSucs':\n        formItem = <UserCenterFormLogin onLoginSuccess={this.handleLoginSuccess} mode={this.state.mode} onCardUpdate={this.handleSetLoginCard} onCardReset={this.handleResetLoginCard} onModechange={this.handleChangeMode} />\n        break\n      case 'regi':\n      case 'regiSucs':\n        formItem = <UserCenterFormRegi onRegisterSuccess={this.handleLoginSuccess} mode={this.state.mode} onCardUpdate={this.handleSetRegiCard} onModechange={this.handleChangeMode} />\n    }\n    return (\n      <div className='usercenter-wrapper'>\n        <div className='card-item'>\n          <UserCenterCardLogin mode={this.state.mode} avatar={this.state.avatar} uname={this.state.uname} bg={this.state.cardBg} />\n          <UserCenterCardLoginSucess mode={this.state.mode} bg={this.state.cardBg} avatar={this.state.avatar} uname={this.state.uname} />\n          <UserCenterCardRegi mode={this.state.mode} bg={this.state.cardBg} avatar={this.state.avatar} uname={this.state.uname} ages={this.state.ages} regin={this.state.regin} />\n        </div>\n        {formItem}\n      </div>\n    )\n  }\n}\n\nUserCenterForm.propTypes = {\n  history: PropTypes.object\n}\n\nclass UserCenter extends React.Component {\n  render () {\n    return (\n      <>\n        <UserCenterForm history={this.props.history} />\n      </>\n    )\n  }\n}\nUserCenter.propTypes = {\n  history: PropTypes.object\n}\n\nconst ucenter = () => {\n  const history = useHistory()\n  return (\n    <>\n      <video id='ucenterBgVedio' playsInline autoPlay muted loop x5-video-player-type='h5' src='https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qcmt57/cbbf7b1a02c400d6_1612887218358.mp4' data-object-fit='true' type='video/mp4' poster='https://sf1-scmcdn-tos.pstatp.com/goofy/ies/douyin_home_web/imgs/1.9e1ce889.jpg'>抱歉，您的浏览器不支持内嵌视频</video>\n      <div className='wrapper'>\n        <UserCenter history={history} />\n      </div>\n    </>\n  )\n}\n\nexport default ucenter\n","import React from 'react'\nimport { Image, Button, Typography, Tag, Tabs } from 'antd'\nimport { QrcodeOutlined, EnvironmentFilled, SmileFilled, HeartOutlined } from '@ant-design/icons'\nimport './Mypage.scss'\nimport PropTypes from 'prop-types'\nconst { Text } = Typography\nconst { TabPane } = Tabs\nclass MypageCover extends React.Component {\n  render () {\n    return (\n      <div className='mypage-header-cover'>\n        <img src='https://lh3.google.com/pw/ACtC-3d-0Y0LrGcsLGpyIE1aDGYp4NlkE9T9XCqRGjlw1arHe02U8xarBn1qQxusLMHLPUa1aoeMTTaiFwG8Q1KQPjS0brjyzR4=w973-h589-no?authuser=0' />\n      </div>\n    )\n  }\n}\nconst NumberInfo = ({ num, discribe }) => {\n  return (\n    <Text lcass='number-info'>\n      <span className='number-info-num'>{num}</span>\n      {discribe}\n    </Text>\n\n  )\n}\nNumberInfo.propTypes = {\n  num: PropTypes.number,\n  discribe: PropTypes.string\n}\nclass MypagMainWorks extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = { works: [{ id: 1, src: 'https://lh3.google.com/pw/ACtC-3fmxFDDRSNKZqDDfvml85Vz7BjfkZOeTN2ePOw_JhdFe1ezWToyZ5OTvlkHgkgUxBfGyKpgWZcsOV50fYl_bDp99Y1V0UE=w749-h799-no?authuser=0', Date: 'Mon Feb 08 2021 23:25:04 GMT+0800 (中国标准时间)' }, { id: 3, src: 'https://lh3.google.com/pw/ACtC-3fmxFDDRSNKZqDDfvml85Vz7BjfkZOeTN2ePOw_JhdFe1ezWToyZ5OTvlkHgkgUxBfGyKpgWZcsOV50fYl_bDp99Y1V0UE=w749-h799-no?authuser=0', Date: 'Mon Feb 08 2021 23:25:04 GMT+0800 (中国标准时间)' }, { id: 4, src: 'https://lh3.google.com/pw/ACtC-3fmxFDDRSNKZqDDfvml85Vz7BjfkZOeTN2ePOw_JhdFe1ezWToyZ5OTvlkHgkgUxBfGyKpgWZcsOV50fYl_bDp99Y1V0UE=w749-h799-no?authuser=0', Date: 'Mon Feb 08 2021 23:25:04 GMT+0800 (中国标准时间)' }, { id: 2, src: 'https://lh3.google.com/pw/ACtC-3fmxFDDRSNKZqDDfvml85Vz7BjfkZOeTN2ePOw_JhdFe1ezWToyZ5OTvlkHgkgUxBfGyKpgWZcsOV50fYl_bDp99Y1V0UE=w749-h799-no?authuser=0', Date: 'Mon Feb 08 2021 23:25:04 GMT+0800 (中国标准时间)' }] }\n  }\n\n  render () {\n    return (\n      <>\n        <div className='mypage-main-works'>\n          {this.state.works.map((work, index) => {\n            return (\n              <div className='mypage-main-work-wrap' key={index}>\n                <Image\n                  src='https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n                  preview={false}\n                  placeholder={\n                    <Image\n                      preview={false}\n                      src='https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200'\n                    />\n        }\n                />\n                <div className='label'><HeartOutlined /> 15</div>\n              </div>\n            )\n          })}\n        </div>\n        <Text class='mypage-main-footer'>暂时没有更多了</Text>\n      </>\n    )\n  }\n}\nclass MypageMain extends React.Component {\n  render () {\n    return (\n      <Tabs defaultActiveKey='work' centered animated={{ inkBar: true, tabPane: true }}>\n        <TabPane tab='作品' key='work'>\n          <MypagMainWorks />\n        </TabPane>\n        <TabPane tab='私密' key='priv'>\n          Content of Tab Pane 2\n        </TabPane>\n        <TabPane tab='喜欢' key='like'>\n          Content of Tab Pane 3\n        </TabPane>\n      </Tabs>\n    )\n  }\n}\n\nclass MypageInfo extends React.Component {\n  handleShowQR () {\n    console.log('showQr')\n  }\n\n  render () {\n    return (\n      <div className='mypage-info'>\n        <div className='mypage-info-header'>\n          <div className='mypage-info-header-avatar'>\n            <img className='mypage-info-header-avatar-img' src='https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qczlhy/b012c32ab3565694_1612690513333.jpg' />\n            <img className='mypage-info-header-avatar-ripon' src='https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qczlhy/05eb39872e3d553d_1612690489926.png' />\n          </div>\n          <Button style={{ 'max-width': '130px', 'margin-right': '10px', 'margin-left': 'auto' }} block>编辑资料<span style={{ color: 'grey' }}>25%</span></Button>\n          <Button style={{ 'max-width': '80px' }} type='primary' block>找朋友</Button>\n        </div>\n        <div className='mypage-info-nickname'>林治</div>\n        <div className='mypage-info-tikid'>抖音号:jhonlee<span onClick={this.handleShowQR}><QrcodeOutlined /></span></div>\n        <div className='mypage-info-bio'>\n          <Text>喵喵喵</Text>\n        </div>\n        <div className='mypage-info-tags'>\n          <Tag icon={<EnvironmentFilled />} color='#55acee'>广东广州</Tag>\n          <Tag icon={<SmileFilled />} color='#55acee'>00后</Tag>\n        </div>\n        <div className='mypage-number-wrapper'>\n          <NumberInfo num={5} discribe='获赞' />\n          <NumberInfo num={5} discribe='关注' />\n          <NumberInfo num={5} discribe='粉丝' />\n        </div>\n      </div>\n    )\n  }\n}\nclass Mypage extends React.Component {\n  render () {\n    return (\n      <>\n        <div className='mypage-wrapper'>\n          <MypageCover />\n          <MypageInfo />\n        </div>\n        <div className='mypage-main'>\n          <MypageMain />\n        </div>\n      </>\n    )\n  }\n}\nexport default Mypage\n","import {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom'\nimport AuthRoute from './utils/router/authRoute'\nimport Home from './views/Home/index'\nimport Live from './views/Live/index'\nimport Ucenter from './views/Ucenter/Ucenter'\nimport Mypage from './views/Mypage/Mypage'\nimport Vcomment from './components/Vcomment/index'\nimport VliveComment from './components/Vlivecomment'\n\nexport default function BasicExample () {\n  return (\n    <Router>\n      <div>\n        {/*\n          A <Switch> looks through all its children <Route>\n          elements and renders the first one whose path\n          matches the current URL. Use a <Switch> any time\n          you have multiple routes, but you want only one\n          of them to render at a time\n        */}\n        <Switch>\n          <AuthRoute exact path='/' component={Home} />\n          <AuthRoute path='/live' component={Live} />\n          <Route path='/ucenter' history={history} component={Ucenter} />\n          <AuthRoute path='/mypage' component={Mypage} />\n          <Route path='/dev' component={Vcomment} videoId='1612780375771' />\n          <Route path='/dev2' component={VliveComment} />\n        </Switch>\n      </div>\n    </Router>\n  )\n}\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"video\":\"VideoPlayer_video__1x-26\",\"info\":\"VideoPlayer_info__p_zeF\",\"author\":\"VideoPlayer_author__2x-K0\",\"liveComents\":\"VideoPlayer_liveComents__2trM5\",\"description\":\"VideoPlayer_description__2OJV5\",\"tags\":\"VideoPlayer_tags__32zlE\",\"tag\":\"VideoPlayer_tag__2jhPO\",\"danmu\":\"VideoPlayer_danmu__1V5fP\",\"action\":\"VideoPlayer_action__2CI0w\",\"comment\":\"VideoPlayer_comment__se77N\",\"comment-icon\":\"VideoPlayer_comment-icon__2VFvh\",\"comment-number\":\"VideoPlayer_comment-number__K0paH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"Top_top__2SUpi\",\"left\":\"Top_left__J0r90\",\"middle\":\"Top_middle__3q9H9\",\"navbar\":\"Top_navbar__3WGJx\",\"navbar-item\":\"Top_navbar-item__2ttu1\",\"navbar-item-active\":\"Top_navbar-item-active__1lry4\",\"right\":\"Top_right__2enh6\",\"search-btn\":\"Top_search-btn__1BQUW\"};"],"sourceRoot":""}