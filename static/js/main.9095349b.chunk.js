(this["webpackJsonpmy-tiktok"]=this["webpackJsonpmy-tiktok"]||[]).push([[0],{111:function(e,t,a){e.exports={top:"Top_top__2Q1jJ",right:"Top_right__1kyh_","close-btn":"Top_close-btn__kLbgi"}},208:function(e,t,a){},226:function(e,t,a){"use strict";a.r(t);var n=a(71),s=a.n(n);console.log("mockjs start"),s.a.setup({timeout:"200-600"}),n.Random.extend({tags:function(){return function(e,t){for(var a,n,s=e.slice(0),i=e.length,c=i-t;i-- >c;)a=s[n=Math.floor((i+1)*Math.random())],s[n]=s[i],s[i]=a;return s.slice(c)}(["\u4e00\u4e2a\u666e\u901a\u516c\u53f8\u76848\u5e74","\u4e00\u4e2a\u666e\u901a\u516c\u53f8\u76847\u5e74","\u4e00\u4e2a\u666e\u901a\u516c\u53f8\u76846\u5e74","\u4e00\u4e2a\u666e\u901a\u516c\u53f8\u76845\u5e74"],Math.floor(1+4*Math.random()))}});var i=/.*\/getVideoList/,c=/.*\/getLiveList/;s.a.mock(i,{"videoList|5":[{"id|+1":n.Random.increment(),"author|1":["\u5b57\u8282\u541b","\u86e4\u86e4\u86e4","\u8086\u65e0\u5fcc\u60ee","\u6469\u5929\u5927\u697c","\u521d\u5b66\u8005"],"url|1":n.Random.pick(["https://sf1-hscdn-tos.pstatp.com/obj/media-fe/xgplayer_doc_video/mp4/xgplayer-demo-360p.mp4"]),"description|1":n.Random.pick(["\u5b57\u8282\u8df3\u52a88\u5468\u5e74\uff0c\u4e0d\u5fd8\u521d\u5fc3\uff0cAlways Day1","\u54c8\u54c8\u54c8\u6d4b\u8bd5\u6d4b\u8bd5","\u82df\u5229\u56fd\u5bb6\u751f\u6b7b\u4ee5\uff0c\u5c82\u56e0\u7978\u798f\u907f\u8d8b\u4e4b"]),"tagList|1":["@tags"],"likes|100-10000":1e4,"comments|100-10000":1e4}]}),s.a.mock(c,{"liveList|5":[{"id|+1":n.Random.increment(),"author|1":["\u5b57\u8282\u541b","\u86e4\u86e4\u86e4","\u8086\u65e0\u5fcc\u60ee","\u6469\u5929\u5927\u697c","\u521d\u5b66\u8005"],"url|1":n.Random.pick(["//sf1-hscdn-tos.pstatp.com/obj/media-fe/xgplayer_doc_video/hls/xgplayer-demo.m3u8"]),"description|1":n.Random.pick(["\u5b57\u8282\u8df3\u52a88\u5468\u5e74\uff0c\u4e0d\u5fd8\u521d\u5fc3\uff0cAlways Day1","\u54c8\u54c8\u54c8\u6d4b\u8bd5\u6d4b\u8bd5","\u82df\u5229\u56fd\u5bb6\u751f\u6b7b\u4ee5\uff0c\u5c82\u56e0\u7978\u798f\u907f\u8d8b\u4e4b"]),"tagList|1":["@tags"],"likes|100-10000":1e4,"comments|100-10000":1e4}]})},227:function(e,t,a){},236:function(e,t,a){},238:function(e,t,a){},243:function(e,t,a){},311:function(e,t,a){},313:function(e,t,a){},315:function(e,t,a){},327:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(0),i=a.n(s),c=a(30),o=a.n(c),r=(a(208),a(97)),l=a(37),d=a(108),m=a.n(d),j=a(122),u=a(140),h=a(21),p=a(22),b=a(24),v=a(23),O=a(46),g=a.n(O);g.a.defaults.baseURL="http://localhost:3000",a(226),g.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),g.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var f=g.a,x=a(54),y=a(52),k=a.n(y),w=a(69),N=a(156),C=a.n(N),_=a(184),I=a.n(_),S=(a(227),a(6)),P=a.n(S),T=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).player=void 0,n.state={dmkList:[]},e.onRef&&e.onRef(Object(w.a)(n)),n}return Object(p.a)(a,[{key:"initPlayer",value:function(){var e=this,t=this.props,a=t.type,n=t.id,s=t.url;console.log("start"),console.log(this.state.dmkList),"video"===a?(this.player=new C.a({id:"".concat(a).concat(n),width:window.innerWidth,height:window.innerHeight,url:s,autoplay:!0,videoInit:!0,"x5-video-player-type":"h5",playsinline:!1,loop:!0,closeVideoStopPropagation:!0,closePlayVideoFocus:!0,ignores:["time","definition","error","fullscreen","i18n","pc","play","replay","volume"],danmu:{comments:this.state.dmkList,area:{start:.5,end:1}}}),this.initDmk("602113570d5dfa02d0d87008",this.player),this.player.on("timeupdate",(function(t){e.props.onTimeChange(Math.round(1e3*parseFloat(t.maxPlayedTime)))}))):"live"===a&&(this.player=new I.a({id:n,width:window.innerWidth,height:window.innerHeight,url:s,autoplay:!0,videoInit:!0,controls:!1,"x5-video-player-type":"h5",playsinline:!1,closeVideoStopPropagation:!0,closePlayVideoFocus:!0,ignores:["time","definition","error","fullscreen","i18n","loading","mobile","pc","play","poster","progress","replay","volume"]})),console.log("[".concat(n,"] Player inited."),this.player)}},{key:"initDmk",value:function(e,t){var a=this;g.a.post("https://qcmt57.fn.thelarkcloud.com/getDanmuku",{vedioId:e}).then((function(e){console.log(e.data.dmkList),a.setState({dmkList:e.data.dmkList}),e.data.dmkList.forEach((function(e){t.danmu.sendComment(e)}))})).catch((function(e){return console.log(e)}))}},{key:"appendDmk",value:function(e){var t;console.log("getDMK:",e),null===(t=this.player)||void 0===t||t.danmu.sendComment(e)}},{key:"componentDidMount",value:function(){this.props.active&&this.initPlayer()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.id,a=e.active;console.log("[".concat(t,"] Player updated."),this.player,a),a?this.player||this.initPlayer():this.player&&(this.player.destroy(),delete this.player,console.log("[".concat(t,"] Player destroyed."),this.player))}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.type;return Object(n.jsx)("div",{className:P()("player",{"player-video":"video"===a,"player-live":"live"===a}),children:Object(n.jsx)("div",{id:"".concat(a).concat(t)})})}}]),a}(i.a.Component),D=a(61),L=a(345),V=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).ChildPlayer=void 0,n.handleNewDmkChange=function(e){n.setState({newDmk:e.target.value}),console.log(e.target.value)},n.handleSendDmk=function(e){console.log("he"),n.state.newDmk&&(n.setState({isSendingDmk:!0}),g.a.post("https://qcmt57.fn.thelarkcloud.com/createDanmuku",{userId:"1612779773437",vedioId:"602113570d5dfa02d0d87008",content:n.state.newDmk,size:20,start:n.state.timeStamp,color:"#001835",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIxNjEyNzc5NzczNDM3IiwiaWF0IjoxNjEyNzgwMDE0fQ.J27ujArwYmr2b7Muv2wI3FEs1YbXO8Ce2llju6dMzjo"}).then((function(e){e.data.success&&(n.setState({newDmk:""}),n.ChildPlayer&&n.ChildPlayer.appendDmk(Object(x.a)(Object(x.a)({},e.data.data),{},{start:e.data.data.start+1500})))})).catch((function(e){return console.log(e)})).finally((function(){n.setState({isSendingDmk:!1})})))},n.handleTimeChange=function(e){n.setState({timeStamp:e})},n.state={newDmk:"",timeStamp:0,isSendingDmk:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.video,a=t.id,s=t.url,i=t.author,c=t.description,o=t.tagList,r=t.likes,l=t.comments,d=this.props.active;return Object(n.jsxs)("div",{className:P()(k.a.video,{"video-avtice":d}),children:[Object(n.jsx)(T,{id:a.toString(),url:s,type:"video",active:d,onTimeChange:this.handleTimeChange,onRef:function(t){e.ChildPlayer=t}}),Object(n.jsxs)("div",{className:k.a.info,children:[Object(n.jsxs)("div",{className:k.a.author,children:["@",i]}),Object(n.jsx)("div",{className:k.a.description,children:c}),Object(n.jsx)("div",{className:k.a.tags,children:o&&o.map((function(e){return Object(n.jsxs)("span",{className:k.a.tag,children:["#",e]},e)}))}),Object(n.jsxs)("div",{className:k.a.danmu,children:[Object(n.jsx)("input",{value:this.state.newDmk,onChange:this.handleNewDmkChange,placeholder:"\u53d1\u4e2a\u53cb\u5584\u7684\u5f39\u5e55\u89c1\u8bc1\u5f53\u4e0b"}),Object(n.jsx)(D.a,{type:"primary",shape:"round",icon:Object(n.jsx)(L.a,{}),size:"large",onClick:this.handleSendDmk,loading:this.state.isSendingDmk})]})]}),Object(n.jsxs)("div",{className:k.a.action,children:[Object(n.jsxs)("div",{className:k.a.like,children:[Object(n.jsx)("div",{className:k.a["like-icon"]}),Object(n.jsx)("div",{className:k.a["like-number"],children:r})]}),Object(n.jsxs)("div",{className:k.a.comment,children:[Object(n.jsx)("div",{className:k.a["comment-icon"]}),Object(n.jsx)("div",{className:k.a["comment-number"],children:l})]})]})]})}}]),a}(i.a.Component),M=a(72),z=a.n(M),F=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:z.a.top,children:[Object(n.jsx)("div",{className:z.a.left,children:Object(n.jsx)(r.b,{to:"/live",children:Object(n.jsx)("div",{className:"live-btn",children:"\u76f4\u64ad"})})}),Object(n.jsx)("div",{className:z.a.middle,children:Object(n.jsxs)("div",{className:z.a.navbar,children:[Object(n.jsx)("div",{className:z.a["navbar-item"],children:"\u540c\u57ce"}),Object(n.jsx)("div",{className:z.a["navbar-item"],children:"\u5173\u6ce8"}),Object(n.jsx)("div",{className:"".concat(z.a["navbar-item"]," ").concat(z.a["navbar-item-active"]),children:"\u63a8\u8350"})]})}),Object(n.jsx)("div",{className:z.a.right,children:Object(n.jsx)("div",{className:z.a["search-btn"]})})]})}}]),a}(i.a.Component),E=(a(236),a(332)),R=a(330),q=(a(237),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleSwiperChange=function(e){console.log(e);var t=n.state,a=t.videoList,s=t.inPageVideoList,i=e.activeIndex;i===s.length-1&&i<a.length-1&&(console.log("added"),n.setState({inPageVideoList:[].concat(Object(u.a)(s),[a[i+1]])}),e.update()),console.log("Active swiper:",i),n.setState({activeIndex:i})},n.state={videoList:[],inPageVideoList:[],activeIndex:0},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/getVideoList");case 3:t=e.sent,a=t.data.videoList,this.setState({videoList:a}),this.setState({inPageVideoList:a.slice(0,2)}),console.log(this.state),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.inPageVideoList,s=t.activeIndex;return Object(n.jsxs)("div",{className:"home",children:[Object(n.jsx)(F,{}),a&&a.length&&Object(n.jsx)(E.a,{spaceBetween:0,slidesPerView:1,direction:"vertical",onSlideChange:function(t){return e.handleSwiperChange(t)},height:window.innerHeight,autoHeight:!0,children:a.map((function(e,t){return Object(n.jsx)(R.a,{children:Object(n.jsx)(V,{video:e,active:s===t})},e.id)}))})]})}}]),a}(i.a.Component)),U=(a(238),a(111)),B=a.n(U),J=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:B.a.top,children:[Object(n.jsx)("div",{className:B.a.left}),Object(n.jsx)("div",{className:B.a.middle}),Object(n.jsx)("div",{className:B.a.right,children:Object(n.jsx)(r.b,{to:"/",children:Object(n.jsx)("div",{className:B.a["close-btn"]})})})]})}}]),a}(i.a.Component),G=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.video,t=e.id,a=e.url;return Object(n.jsxs)("div",{className:"live",children:[Object(n.jsx)(J,{}),Object(n.jsx)(T,{id:t.toString(),url:a,type:"live"})]})}}]),a}(i.a.Component),Q=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={liveList:[]},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/getLiveList");case 3:t=e.sent,console.log(t),this.setState({liveList:t.data.liveList}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.liveList[0];return Object(n.jsx)("div",{className:"live",children:e&&Object(n.jsx)(G,{video:e})})}}]),a}(i.a.Component),W=a(339),Z=a(340),A=a(199),Y=a(337),H=a(342),K=a(62),X=a(331),$=a(334),ee=a(333),te=a(343),ae=a(344),ne=a(346),se=a(347),ie=a(348),ce=a(349),oe=a(63),re=a(201),le=a(104),de=a(350),me=a(351),je=a(352),ue=a(202),he=a(194),pe=(a(243),W.a.Option),be=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"handleTriggerQR",value:function(){console.log("QRCode is unavaliable now")}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"usercenter-card -front ".concat("login"===this.props.mode?"show":"hide"," "),children:[Object(n.jsx)("div",{className:"usercenter-card-focus"}),Object(n.jsx)("div",{className:"usercenter-card-background",children:Object(n.jsx)("img",{src:this.props.bg,className:"usercenter-card__bg"})}),Object(n.jsxs)("div",{className:"usercenter-card-wrapper",children:[Object(n.jsxs)("div",{className:"usercenter-card-login-header",children:[Object(n.jsx)("div",{className:"usercenter-card-login-header_qrbtn",onClick:this.handleTriggerQR,children:Object(n.jsx)(ne.a,{})}),Object(n.jsx)("img",{className:"usercenter-card-login-header_logo",src:"//sf3-ttcdn-tos.pstatp.com/obj/ttfe/passport/sso/douyin/douyin-logo_1576745941218.png",alt:"logo"})]}),Object(n.jsxs)("div",{className:"usercenter-card-login-content",children:[Object(n.jsx)(Z.a,{size:{xs:70,sm:70,md:70,lg:80,xl:80,xxl:80},src:this.props.avatar,icon:Object(n.jsx)(se.a,{})}),Object(n.jsx)("text",{className:"usercenter-card-login-content_user",children:this.props.uname})]})]})]})}}]),a}(i.a.Component),ve=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"usercenter-card -back ".concat("loginSucs"===this.props.mode?"show":"hide"),children:[Object(n.jsx)("div",{className:"usercenter-card-focus"}),Object(n.jsx)("div",{className:"usercenter-card-background",children:Object(n.jsx)("img",{src:this.props.bg,className:"usercenter-card__bg"})}),Object(n.jsxs)("div",{className:"usercenter-card-wrapper",children:[Object(n.jsxs)("div",{className:"usercenter-card-login-header",children:[Object(n.jsx)("div",{className:"usercenter-card-login-header_info"}),Object(n.jsx)("img",{className:"usercenter-card-login-header_logo",src:"//sf3-ttcdn-tos.pstatp.com/obj/ttfe/passport/sso/douyin/douyin-logo_1576745941218.png",alt:"logo"})]}),Object(n.jsxs)("div",{className:"usercenter-card-login-content",children:[Object(n.jsx)(Z.a,{size:{xs:70,sm:40,md:40,lg:64,xl:80,xxl:100},src:this.props.avatar,icon:Object(n.jsx)(se.a,{})}),Object(n.jsx)("text",{className:"usercenter-card-login-content_user",children:this.props.uname}),Object(n.jsx)("text",{className:"usercenter-card-login-content_info",children:"\u6b22\u8fce\u56de\u6765\uff0c\u6b63\u5728\u8df3\u8f6c..."})]})]})]})}}]),a}(i.a.Component),Oe=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"hadleTriggerQR",value:function(){console.log("QRCode is unavaliable now")}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"usercenter-card -register",children:[Object(n.jsx)("div",{className:"usercenter-card-background",children:Object(n.jsx)("img",{src:this.props.bg,className:"usercenter-card__bg"})}),Object(n.jsxs)("div",{className:"usercenter-card-wrapper",children:[Object(n.jsxs)("div",{className:"usercenter-card-regi-header",children:[Object(n.jsxs)("div",{className:"usercenter-card-regi-header-info",onClick:this.handleTriggerQR,children:[Object(n.jsxs)("div",{className:"item",children:[Object(n.jsx)(ie.a,{}),this.props.ages]}),Object(n.jsxs)("div",{className:"item",children:[Object(n.jsx)(ce.a,{}),this.props.local]})]}),Object(n.jsx)("img",{className:"usercenter-card-login-header_logo",src:"//sf3-ttcdn-tos.pstatp.com/obj/ttfe/passport/sso/douyin/douyin-logo_1576745941218.png",alt:"logo"})]}),Object(n.jsxs)("div",{className:"usercenter-card-login-content",children:[Object(n.jsx)(Z.a,{size:{xs:70,sm:40,md:40,lg:64,xl:80,xxl:100},src:this.props.avatar,icon:Object(n.jsx)(se.a,{})}),Object(n.jsx)("text",{className:"usercenter-card-login-content_user",children:"\u6797\u6cbb"})]})]})]})}}]),a}(i.a.Component),ge=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).regiFormRef=i.a.createRef(),s.handleOnFinish=function(e){console.log("Received values of form: ",e)},s.tailFormItemLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},s.iconChange=function(e){var t=e.info;console.log(t.file)},s.handleChange=function(e){console.log(e),"uploading"!==e.file.status?"done"===e.file.status&&s.getBase64(e.file.originFileObj,(function(e){return s.setState({imageUrl:e,loading:!1})})):s.setState({loading:!0})},s.uploadButton=function(){return Object(n.jsxs)("div",{children:[s.state.loading?Object(n.jsx)(oe.a,{}):Object(n.jsx)(re.a,{}),Object(n.jsx)("div",{style:{marginTop:8},children:"Upload"})]})},s.state={loaingAvatar:!1,avatarUrl:""},s.uploadButton.bind(Object(w.a)(s)),s}return Object(p.a)(a,[{key:"getBase64",value:function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}},{key:"beforeUpload",value:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||A.b.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||A.b.error("Image must smaller than 2MB!"),t&&a}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"usercenter-form-card",children:Object(n.jsxs)(Y.a,{ref:this.formRef,name:"control-ref",onFinish:this.handleOnFinish,class:"",initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"86"},children:[Object(n.jsx)(Y.a.Item,{name:"mail",label:"\u90ae\u7bb1",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740"}],children:Object(n.jsx)(H.a,{style:{width:"100%"}})}),Object(n.jsx)(Y.a.Item,{name:"password",label:"\u5bc6\u7801",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0,children:Object(n.jsx)(H.a.Password,{})}),Object(n.jsx)(Y.a.Item,{name:"confirm",label:"\u786e\u8ba4\u5bc6\u7801",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(n.jsx)(H.a.Password,{})}),Object(n.jsx)(Y.a.Item,{name:"nickname",label:Object(n.jsxs)("span",{children:["\u6635\u79f0\xa0",Object(n.jsx)(K.a,{title:"\u6ce8\u518c\u4e4b\u540e\u53ef\u4ee5\u968f\u65f6\u5728\u4e2a\u4eba\u4e2d\u5fc3\u4fee\u6539",children:Object(n.jsx)(le.a,{})})]}),rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}],children:Object(n.jsx)(H.a,{})}),Object(n.jsx)(X.a,{orientation:"left",children:"\u4e2a\u6027\u4fe1\u606f"}),Object(n.jsx)(Y.a.Item,{name:"birthday",label:"\u751f\u65e5",children:Object(n.jsx)(he.a,{rotate:!0,children:Object(n.jsx)($.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:this.beforeUpload,onChange:this.handleChange,children:this.state.imageUrl?Object(n.jsx)("img",{src:this.state.imageUrl,alt:"avatar",style:{width:"100%"}}):this.uploadButton})})}),Object(n.jsx)(Y.a.Item,{name:"birthday",label:"\u751f\u65e5",children:Object(n.jsx)(ee.a,{})}),Object(n.jsx)(Y.a.Item,{name:"regin",label:"\u6240\u5728\u5730",children:Object(n.jsx)(H.a,{style:{width:"100%"}})}),Object(n.jsx)(Y.a.Item,{name:"gender",label:"\u6027\u522b",rules:[{required:!0}],children:Object(n.jsxs)(W.a,{placeholder:"\u8bf7\u9009\u62e9\u6027\u522b",allowClear:!0,style:{width:"50%"},children:[Object(n.jsx)(pe,{value:"male",children:"\u7537"}),Object(n.jsx)(pe,{value:"female",children:"\u5973"}),Object(n.jsx)(pe,{value:"other",children:"\u4fdd\u5bc6"})]})}),Object(n.jsx)(Y.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.gender!==t.gender},children:function(e){return"other"===(0,e.getFieldValue)("gender")?Object(n.jsx)(Y.a.Item,{name:"customizeGender",label:"Customize Gender",rules:[{required:!0}],children:Object(n.jsx)(H.a,{})}):null}}),Object(n.jsx)(Y.a.Item,Object(x.a)(Object(x.a)({name:"agreement",valuePropName:"checked",rules:[{validator:function(e,t){return t?Promise.resolve():Promise.reject(new Error("\u6ce8\u518c\u7528\u6237\u9700\u8981\u5148\u540c\u610f\u7528\u6237\u534f\u8bae"))}}]},this.tailFormItemLayout),{},{children:Object(n.jsxs)(te.a,{children:["\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f ",Object(n.jsx)("a",{href:"",children:"\u7528\u6237\u534f\u8bae"})]})})),Object(n.jsx)(Y.a.Item,Object(x.a)(Object(x.a)({},this.tailFormItemLayout),{},{children:Object(n.jsx)(D.a,{type:"primary",htmlType:"submit",children:"Register"})}))]})})}}]),a}(i.a.Component),fe=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).previewGet=function(e){g.a.post("https://qcmt57.fn.thelarkcloud.com/userIconPreview",{user:e}).then(function(e){if(!e.data.success)throw new Error;this.props.onCardUpdate(e.data)}.bind(Object(w.a)(n))).catch(function(e){console.log(e),this.props.onCardReset()}.bind(Object(w.a)(n)))},n.handlePreview=function(e){n.state.previewTimer&&clearTimeout(n.state.previewTimer);var t=setTimeout(function(){this.previewGet(e.target.value)}.bind(Object(w.a)(n)),400);n.setState({previewTimer:t})},n.handleLogin=function(e){console.log(e),n.setState({loading:!0}),g.a.post("https://qcmt57.fn.thelarkcloud.com/login",{userName:"zhangsan",password:"123"}).then(function(e){console.log(e),this.setState({loading:!1,disabled:!0}),this.props.onModechange("loginSucs")}.bind(Object(w.a)(n))).catch(function(e){this.setState({loading:!1,showMsg:!0}),console.log(e)}.bind(Object(w.a)(n)))},n.state={loading:!1,disabled:!1,showMsg:!1,previewTimer:null},n}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"usercenter-form-card usercenter-form-login",children:[this.state.showMsg?Object(n.jsx)(ae.a,{message:"\u5e10\u53f7/\u5bc6\u7801\u9519\u8bef\uff0c\u8bf7\u786e\u8ba4\u540e\u91cd\u8bd5",type:"error",style:"margin-bottom:{5px}",showIcon:!0}):"",Object(n.jsxs)(Y.a,{name:"normal_login",id:"usercenter-form-card-content",layout:"vertical",initialValues:{remember:!0},onFinish:this.handleLogin,requiredMark:!1,children:[Object(n.jsx)(Y.a.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}],children:Object(n.jsx)(H.a,{prefix:Object(n.jsx)(de.a,{className:"site-form-item-icon"}),placeholder:"\u90ae\u7bb1/\u7528\u6237\u540d",onChange:this.handlePreview})}),Object(n.jsx)(Y.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(n.jsx)(H.a.Password,{class:"input",prefix:Object(n.jsx)(me.a,{className:"site-form-item-icon"}),placeholder:"\u8d26\u53f7\u5bc6\u7801",iconRender:function(e){return e?Object(n.jsx)(je.a,{}):Object(n.jsx)(ue.a,{})}})}),Object(n.jsxs)(Y.a.Item,{style:"",children:[Object(n.jsx)(Y.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(n.jsx)(te.a,{children:"\u8bb0\u4f4f\u5bc6\u7801"})}),Object(n.jsx)("a",{className:"login-form-forgot",href:"",children:"\u5fd8\u8bb0\u5bc6\u7801?"})]}),Object(n.jsx)("div",{className:"login-form-btn",children:Object(n.jsx)(Y.a.Item,{class:"login-btn",noStyle:!0,children:Object(n.jsx)(D.a,{type:"primary",htmlType:"submit",loading:this.state.loading,disabled:"login"!==this.props.mode,children:"\u767b\u5f55"})})}),Object(n.jsx)("div",{className:"login-form-footer",children:Object(n.jsxs)(Y.a.Item,{children:["\u6216 ",Object(n.jsx)("a",{href:"",children:"\u73b0\u5728\u6ce8\u518c"})]})})]})]})}}]),a}(i.a.Component),xe=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;Object(h.a)(this,a),(n=t.call(this,e)).handleChangeMode=function(e){n.setState({mode:e})},n.onFinish=function(e){console.log("Received values of form: ",e)},n.handleResetLoginCard=function(){n.setState({cardBg:"https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qcmt57/34d55516367c98c2_1612876325199.png",avatar:"https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qcmt57/0bb96d4c05cc0a53_1612876378525.jpeg"})},n.handleSetLoginCard=function(e){n.setState({cardBg:e.data.bgImg,uname:e.data.uname,avatar:e.data.avatar})};return n.state={mode:"login",cardBg:"https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qcmt57/34d55516367c98c2_1612876325199.png",avatar:"https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qcmt57/0bb96d4c05cc0a53_1612876378525.jpeg",uname:"\u6296\u97f3",ages:"\u5c0f\u9c9c\u8089",local:"\u5730\u7403\u6751"},n}return Object(p.a)(a,[{key:"render",value:function(){var e={};switch(this.state.mode){case"login":case"loginSucs":e=Object(n.jsx)(fe,{mode:this.state.mode,onCardUpdate:this.handleSetLoginCard,onCardReset:this.handleResetLoginCard,onModechange:this.handleChangeMode});break;case"regi":case"regiSucs":e=Object(n.jsx)(ge,{})}return Object(n.jsxs)("div",{className:"usercenter-wrapper",children:[Object(n.jsxs)("div",{className:"card-item",children:[Object(n.jsx)(be,{mode:this.state.mode,avatar:this.state.avatar,uname:this.state.uname,bg:this.state.cardBg}),Object(n.jsx)(ve,{mode:this.state.mode,bg:this.state.cardBg,avatar:this.state.avatar,uname:this.state.uname}),Object(n.jsx)(Oe,{mode:this.state.mode,bg:this.state.cardBg,avatar:this.state.avatar,uname:this.state.uname,ages:this.state.ages,local:this.state.local})]}),e]})}}]),a}(i.a.Component),ye=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={},n}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(xe,{})})}}]),a}(i.a.Component),ke=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("video",{id:"ucenterBgVedio",playsInline:!0,autoPlay:"true",muted:!0,loop:!0,src:"https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qcmt57/cbbf7b1a02c400d6_1612887218358.mp4","data-object-fit":"true",type:"video/mp4",poster:"https://sf1-scmcdn-tos.pstatp.com/goofy/ies/douyin_home_web/imgs/1.9e1ce889.jpg",children:"\u62b1\u6b49\uff0c\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5185\u5d4c\u89c6\u9891"}),Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)(ye,{})})]})},we=a(338),Ne=a(335),Ce=a(336),_e=a(200),Ie=a(353),Se=a(354),Pe=(a(311),we.a.Text),Te=Ne.a.TabPane,De=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"mypage-header-cover",children:Object(n.jsx)("img",{src:"https://lh3.google.com/pw/ACtC-3d-0Y0LrGcsLGpyIE1aDGYp4NlkE9T9XCqRGjlw1arHe02U8xarBn1qQxusLMHLPUa1aoeMTTaiFwG8Q1KQPjS0brjyzR4=w973-h589-no?authuser=0"})})}}]),a}(i.a.Component),Le=function(e){var t=e.num,a=e.discribe;return Object(n.jsxs)("text",{lcass:"number-info",children:[Object(n.jsx)("span",{className:"number-info-num",children:t}),a]})},Ve=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={works:[{id:1,src:"https://lh3.google.com/pw/ACtC-3fmxFDDRSNKZqDDfvml85Vz7BjfkZOeTN2ePOw_JhdFe1ezWToyZ5OTvlkHgkgUxBfGyKpgWZcsOV50fYl_bDp99Y1V0UE=w749-h799-no?authuser=0",Date:"Mon Feb 08 2021 23:25:04 GMT+0800 (\u4e2d\u56fd\u6807\u51c6\u65f6\u95f4)"},{id:3,src:"https://lh3.google.com/pw/ACtC-3fmxFDDRSNKZqDDfvml85Vz7BjfkZOeTN2ePOw_JhdFe1ezWToyZ5OTvlkHgkgUxBfGyKpgWZcsOV50fYl_bDp99Y1V0UE=w749-h799-no?authuser=0",Date:"Mon Feb 08 2021 23:25:04 GMT+0800 (\u4e2d\u56fd\u6807\u51c6\u65f6\u95f4)"},{id:4,src:"https://lh3.google.com/pw/ACtC-3fmxFDDRSNKZqDDfvml85Vz7BjfkZOeTN2ePOw_JhdFe1ezWToyZ5OTvlkHgkgUxBfGyKpgWZcsOV50fYl_bDp99Y1V0UE=w749-h799-no?authuser=0",Date:"Mon Feb 08 2021 23:25:04 GMT+0800 (\u4e2d\u56fd\u6807\u51c6\u65f6\u95f4)"},{id:2,src:"https://lh3.google.com/pw/ACtC-3fmxFDDRSNKZqDDfvml85Vz7BjfkZOeTN2ePOw_JhdFe1ezWToyZ5OTvlkHgkgUxBfGyKpgWZcsOV50fYl_bDp99Y1V0UE=w749-h799-no?authuser=0",Date:"Mon Feb 08 2021 23:25:04 GMT+0800 (\u4e2d\u56fd\u6807\u51c6\u65f6\u95f4)"}]},n}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"mypage-main-works",children:this.state.works.map((function(e,t){return Object(n.jsxs)("div",{className:"mypage-main-work-wrap",children:[Object(n.jsx)(Ce.a,{src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",preview:!1,placeholder:Object(n.jsx)(Ce.a,{preview:!1,src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200"})}),Object(n.jsxs)("div",{className:"label",children:[Object(n.jsx)(Ie.a,{})," 15"]})]},t)}))}),Object(n.jsx)(Pe,{class:"mypage-main-footer",children:"\u6682\u65f6\u6ca1\u6709\u66f4\u591a\u4e86"})]})}}]),a}(i.a.Component),Me=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(Ne.a,{defaultActiveKey:"work",centered:!0,animated:{inkBar:!0,tabPane:!0},children:[Object(n.jsx)(Te,{tab:"\u4f5c\u54c1",children:Object(n.jsx)(Ve,{})},"work"),Object(n.jsx)(Te,{tab:"\u79c1\u5bc6",children:"Content of Tab Pane 2"},"priv"),Object(n.jsx)(Te,{tab:"\u559c\u6b22",children:"Content of Tab Pane 3"},"like")]})}}]),a}(i.a.Component),ze=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"handleShowQR",value:function(){console.log("showQr")}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"mypage-info",children:[Object(n.jsxs)("div",{className:"mypage-info-header",children:[Object(n.jsxs)("div",{className:"mypage-info-header-avatar",children:[Object(n.jsx)("img",{className:"mypage-info-header-avatar-img",src:"https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qczlhy/b012c32ab3565694_1612690513333.jpg"}),Object(n.jsx)("img",{className:"mypage-info-header-avatar-ripon",src:"https://sf1-ttcdn-tos.pstatp.com/obj/larkcloud-file-storage/baas/qczlhy/05eb39872e3d553d_1612690489926.png"})]}),Object(n.jsxs)(D.a,{style:{"max-width":"130px","margin-right":"10px","margin-left":"auto"},block:!0,children:["\u7f16\u8f91\u8d44\u6599",Object(n.jsx)("span",{style:{color:"grey"},children:"25%"})]}),Object(n.jsx)(D.a,{style:{"max-width":"80px"},type:"primary",block:!0,children:"\u627e\u670b\u53cb"})]}),Object(n.jsx)("div",{className:"mypage-info-nickname",children:"\u6797\u6cbb"}),Object(n.jsxs)("div",{className:"mypage-info-tikid",children:["\u6296\u97f3\u53f7:jhonlee",Object(n.jsx)("span",{onClick:this.handleShowQR,children:Object(n.jsx)(ne.a,{})})]}),Object(n.jsx)("div",{className:"mypage-info-bio",children:Object(n.jsx)(Pe,{children:"\u55b5\u55b5\u55b5"})}),Object(n.jsxs)("div",{className:"mypage-info-tags",children:[Object(n.jsx)(_e.a,{icon:Object(n.jsx)(ce.a,{}),color:"#55acee",children:"\u5e7f\u4e1c\u5e7f\u5dde"}),Object(n.jsx)(_e.a,{icon:Object(n.jsx)(Se.a,{}),color:"#55acee",children:"00\u540e"})]}),Object(n.jsxs)("div",{className:"mypage-number-wrapper",children:[Object(n.jsx)(Le,{num:5,discribe:"\u83b7\u8d5e"}),Object(n.jsx)(Le,{num:5,discribe:"\u5173\u6ce8"}),Object(n.jsx)(Le,{num:5,discribe:"\u7c89\u4e1d"})]})]})}}]),a}(i.a.Component),Fe=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"mypage-wrapper",children:[Object(n.jsx)(De,{}),Object(n.jsx)(ze,{})]}),Object(n.jsx)("div",{className:"mypage-main",children:Object(n.jsx)(Me,{})})]})}}]),a}(i.a.Component),Ee=(a(313),a(341)),Re=a(355),qe=a(356),Ue=a(110),Be=a.n(Ue),Je=a(191),Ge=a.n(Je),Qe=a(192),We=a.n(Qe),Ze=a(195),Ae=H.a.TextArea,Ye=we.a.Link;Be.a.extend(Ge.a),Be.a.locale(We.a);var He="1612779773437",Ke="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIxNjEyNzc5NzczNDM3IiwiaWF0IjoxNjEyNzgwMDE0fQ.J27ujArwYmr2b7Muv2wI3FEs1YbXO8Ce2llju6dMzjo",Xe=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleLike=function(){n.state.isLiked||g.a.post("https://qcmt57.fn.thelarkcloud.com/likeComment",{userId:He,commentId:n.props.id,token:Ke}).then((function(e){e.data.success&&n.setState({isLiked:!0})})).catch((function(e){console.log(e)}))},n.state={isLiked:!1},n}return Object(p.a)(a,[{key:"submitLike",value:function(){var e=this;this.state.isLiked||g.a.post("https://qcmt57.fn.thelarkcloud.com/likeComment",{userId:He,commentId:this.props.id,token:Ke}).then((function(t){t.data.success&&e.setState({isLiked:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"vcomt-comt-wrapper",children:[Object(n.jsx)("div",{className:"vcomt-comt-avatar",children:Object(n.jsx)(Z.a,{icon:Object(n.jsx)(de.a,{})})}),Object(n.jsxs)("div",{className:"vcomt-comt-content",children:[Object(n.jsx)("div",{className:"vcomt-comt-content-uname",children:this.props.pname}),Object(n.jsx)("div",{className:"vcomt-comt-content-commt",children:this.props.content}),Object(n.jsxs)("div",{className:"vcomt-comt-content-action",children:[Object(n.jsx)("div",{className:"vcomt-comt-content-action-time",children:this.props.ptime}),Object(n.jsx)("div",{className:"vcomt-comt-content-action-reply",children:Object(n.jsx)(Ye,{children:"\u56de\u590d"})})]})]}),Object(n.jsxs)("div",{className:"vcomt-comt-like",onClick:this.handleLike,children:[Object(n.jsx)(Re.a,{className:this.state.isLiked?"liked":""}),Object(n.jsx)("div",{className:"vcomt-comt-like-num",children:this.state.isLiked?this.props.likeCount+1:this.props.likeCount})]})]})}}]),a}(i.a.Component),$e=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"vcomt-action-appeal",children:[Object(n.jsx)("div",{className:"vcomt-action-appeal-text-area",children:"\u7559\u4e0b\u4f60\u7684\u7cbe\u5f69\u8bc4\u8bba\u5427"}),Object(n.jsx)("div",{className:"vcomt-action-appeal-micro-btn",children:Object(n.jsx)(qe.a,{})})]})}}]),a}(i.a.Component),et=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y.a.Item,{children:Object(n.jsx)(Ae,{rows:3,onChange:this.props.onChange,value:this.props.value})}),Object(n.jsxs)(Y.a.Item,{children:[Object(n.jsx)(D.a,{htmlType:"submit",loading:this.props.submitting,onClick:this.props.onSubmit,type:"primary",children:"\u8bc4\u8bba\u4e00\u4e0b"}),Object(n.jsx)("div",{className:"vcomt-action-appeal-micro-btn",onClick:this.props.onOpenEmoji,children:Object(n.jsx)(qe.a,{})})]})]})}}]),a}(i.a.Component),tt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;Object(h.a)(this,a),(n=t.call(this,e)).showDrawer=function(){n.setState({visible:!0})},n.handleClose=function(){n.setState({visible:!1})},n.handleSubmit=function(){n.state.newComment&&(n.setState({isSubmitting:!0}),g.a.post("https://qcmt57.fn.thelarkcloud.com/comment",{userId:He,comment:n.state.newComment,token:Ke,videoId:n.props.videoId}).then((function(e){var t=e.data;t.success&&setTimeout((function(){n.setState({isSubmitting:!1,newComment:"",comments:[].concat(Object(u.a)(n.state.comments),[{id:t.success,avatar:"",pname:"\u6211",ptime:Be()(new Date).fromNow(),like:!1,likeCount:0,content:n.state.newComment}])})}),500)})).catch((function(e){console.log(e)})))},n.handleChange=function(e){n.setState({newComment:e.target.value})},n.drawerChange=function(e){console.log(e)},n.addEmoji=function(e,t){n.setState({newComment:n.state.newComment+e.native,showEmojiModal:!1})},n.handleOpenEmojiModel=function(){n.setState({showEmojiModal:!n.state.showEmojiModal})};var s={id:"null",avatar:"string",pname:"string",ptime:"string",like:!0,likeCount:1,content:"string"};n.state={showEmojiModal:!0,vid:n.props.videoId,visible:!0,placement:"left",count:1,isTypeing:!1,isEmojing:!1,comments:[s,s,s],newComment:"",isSubmitting:!1};var i={videoId:n.props.videoId};return n.fetchComments(i),n}return Object(p.a)(a,[{key:"fetchComments",value:function(e){var t=this;g.a.post("https://qcmt57.fn.thelarkcloud.com/getComment",{userId:He,videoID:e.videoId,token:Ke}).then((function(e){var a=e.data;a.success&&(a=a.data,console.log(a),a=a.map((function(e){return{id:e._id,avatar:"null",pname:e.userItem.userName,ptime:Be()(e.createdAt).fromNow(),likeCount:e.liked,like:!1,content:e.comment}})),console.log(a),t.setState({comments:a}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ee.a,{title:this.state.comments.length>=0?"".concat(this.state.comments.length," \u6761\u8bc4\u8bba"):"\u8bc4\u8bba\u533a",placement:"bottom",closable:!0,onClose:this.handleClose,visible:this.state.visible,afterVisibleChange:this.drawerChange,footer:Object(n.jsxs)("div",{children:[Object(n.jsx)($e,{}),Object(n.jsx)("div",{className:"emoji-container",children:this.state.showEmojiModal&&Object(n.jsx)(Ze.a,{set:"apple",emoji:"",skin:1,showPreview:!1,style:{position:"absolute",bottom:"70px",left:"8px",zIndex:1},onClick:function(t,a){return e.addEmoji(t,a)}})}),Object(n.jsx)(et,{submitting:this.state.isSubmitting,value:this.state.newComment,onChange:this.handleChange,onSubmit:this.handleSubmit,onOpenEmoji:this.handleOpenEmojiModel})]}),height:500,bodyStyle:{paddingLeft:5,paddingRight:5},children:this.state.comments.map((function(e,t){return Object(s.createElement)(Xe,Object(x.a)(Object(x.a)({},e),{},{key:t}))}))},this.state.placement)})}}]),a}(i.a.Component),at=(a(315),a(193)),nt=a.n(at),st=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"vlive-comment-item-wrapper",children:[Object(n.jsx)("span",{className:"vlive-comment-item-uname",children:this.props.pname}),this.props.content]})}}]),a}(i.a.Component),it=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).demoo={id:"name",content:"ikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuikuiku",pname:"11",ptime:"1",like:!1,avatar:"s",likeCount:1},n.demomo=[n.demoo],n.wrapper=void 0,n.scrollToBottom=function(){var e=document.getElementById("messagesEndRef");null===e||void 0===e||e.scrollIntoView({behavior:"smooth"})},n.handleTap=function(e){var t,a,s,i=null===(t=n.wrapper)||void 0===t?void 0:t.clientHeight,c=null===(a=n.wrapper)||void 0===a?void 0:a.scrollHeight,o=null===(s=n.wrapper)||void 0===s?void 0:s.scrollTop,r=!(i&&o&&c&&c>i&&i+o===c);n.setState({isPause:r})},n.state={displayIndex:0,bufferSize:20,displayComents:[],allComments:[],isPause:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.fetchComments({videoId:"1612780375771"}),setInterval((function(){if(!e.state.isPause){var t=e.state.displayComents;e.state.displayIndex-e.state.bufferSize>=0&&delete t[e.state.displayIndex-e.state.bufferSize],e.setState({displayComents:t.concat(e.state.allComments[e.state.displayIndex%e.state.allComments.length]),displayIndex:e.state.displayIndex+1}),e.scrollToBottom()}}),1500)}},{key:"fetchComments",value:function(e){var t=this;g.a.post("https://qcmt57.fn.thelarkcloud.com/getComment",{userId:"1612779773437",videoID:e.videoId,token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIxNjEyNzc5NzczNDM3IiwiaWF0IjoxNjEyNzgwMDE0fQ.J27ujArwYmr2b7Muv2wI3FEs1YbXO8Ce2llju6dMzjo"}).then((function(e){var a=e.data;a.success&&(a=(a=a.data).map((function(e){return{id:e._id,avatar:"null",pname:e.userItem.userName,ptime:e.createdAt.toString(),likeCount:e.liked,like:!1,content:e.comment}})),t.setState({allComments:a}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"vlive-comment-wrapper",onTouchEnd:this.handleTap,ref:function(t){e.wrapper=t},children:Object(n.jsxs)(nt.a,{transitionName:"example",transitionEnterTimeout:500,transitionLeaveTimeout:500,children:[this.state.displayComents.map((function(e,t){return Object(s.createElement)(st,Object(x.a)(Object(x.a)({},e),{},{key:t}))})),Object(n.jsx)("div",{id:"messagesEndRef"})]})})}}]),a}(i.a.Component);function ct(){return Object(n.jsx)(r.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:q}),Object(n.jsx)(l.a,{path:"/live",component:Q}),Object(n.jsx)(l.a,{path:"/ucenter",component:ke}),Object(n.jsx)(l.a,{path:"/mypage",component:Fe}),Object(n.jsx)(l.a,{path:"/dev",component:tt,videoId:"1612780375771"}),Object(n.jsx)(l.a,{path:"/dev2",component:it})]})})})}var ot=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,357)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(ct,{})}),document.getElementById("root")),ot()},52:function(e,t,a){e.exports={video:"VideoPlayer_video__1x-26",info:"VideoPlayer_info__p_zeF",author:"VideoPlayer_author__2x-K0",description:"VideoPlayer_description__2OJV5",tags:"VideoPlayer_tags__32zlE",tag:"VideoPlayer_tag__2jhPO",danmu:"VideoPlayer_danmu__1V5fP",action:"VideoPlayer_action__2CI0w",like:"VideoPlayer_like__IG_uM",comment:"VideoPlayer_comment__se77N","like-icon":"VideoPlayer_like-icon__37QMd","comment-icon":"VideoPlayer_comment-icon__2VFvh","like-number":"VideoPlayer_like-number__1cJSx","comment-number":"VideoPlayer_comment-number__K0paH"}},72:function(e,t,a){e.exports={top:"Top_top__2SUpi",left:"Top_left__J0r90",middle:"Top_middle__3q9H9",navbar:"Top_navbar__3WGJx","navbar-item":"Top_navbar-item__2ttu1","navbar-item-active":"Top_navbar-item-active__1lry4",right:"Top_right__2enh6","search-btn":"Top_search-btn__1BQUW"}}},[[327,1,2]]]);
//# sourceMappingURL=main.9095349b.chunk.js.map